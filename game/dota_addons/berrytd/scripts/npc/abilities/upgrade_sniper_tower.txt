"ability_upgrade_sniper_1"
{
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
    "AbilityTextureName"    "phantom_assassin_coup_de_grace"

    "AbilityGoldCost"       "70"
   
    "OnSpellStart"
    {

        "RunScript"
        {
            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
            "Function"      "upgradeTower"


            "AddAbility1"
            {
                "Ability"   "ability_sniper_damage_buff"
                "Level"     "1"
            }
        }
    }

    //this value appears in the tooltip
    "AbilitySpecial"
    {
        "01"
        {
            "var_type"  "FIELD_INTEGER"
            "damage"    "10"
        }

        "02"
        {
            "var_type"            "FIELD_INTEGER"
            "gold_cost"            "50"
        } 
    }
}

//this is the ability provided by upgrade 1
"ability_sniper_damage_buff"
{
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"  
    "AbilityTextureName"    "phantom_assassin_coup_de_grace"                       
    
    "AbilityUnitDamageType" "DAMAGE_TYPE_PHYSICAL"


    "Modifiers"
    {
        "sniper_damage_buff"
        {
            "Passive"   "1"            
          
            "IsPurgable"        "0"
            "IsBuff"            "1"  

            "Properties"
            {
                "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE" "%damage"        
            }  
        }           
    }

    "AbilitySpecial"
    {
        "01"
        {
            "var_type"            "FIELD_INTEGER"
            "damage"            "10"
        }        
    }
}

"ability_upgrade_sniper_2"
{
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
    "AbilityTextureName"    "sniper_headshot"

    "AbilityGoldCost"       "80"

    "AbilitySpecial"
    {
        "01"
        {
            "var_type"            "FIELD_INTEGER"
            "gold_cost"            "50"
        }  
    }

    "OnSpellStart"
    {

        "RunScript"
        {
            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
            "Function"      "upgradeTower"


            "AddAbility1"
            {
                "Ability"   "sniper_headshot"
                "Level"     "2"
            }
        }
    }
}


"ability_upgrade_sniper_3"
{
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
    "AbilityTextureName"    "sniper_assassinate"

    "AbilityGoldCost"       "50" 

    "OnSpellStart"
    {

        "RunScript"
        {
            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
            "Function"      "upgradeTower"


            "AddAbility1"
            {
                "Ability"   "ability_sniper_long_range"
                "Level"     "1"
            }
        }
    }

    "AbilitySpecial"
    {
        "01"
        {
            "var_type"     "FIELD_INTEGER"
            "damage"       "980"
        }
        "02"
        {
            "var_type"     "FIELD_INTEGER"
            "range"        "2000"
        }
        "03"
        {
            "var_type"     "FIELD_FLOAT"
            "speed"        "-70"
        }
        "04"
        {
            "var_type"     "FIELD_INTEGER"
            "gold_cost"    "50"
        } 
    }
}

"ability_sniper_long_range"
{
    "BaseClass"                     "ability_datadriven"
    "AbilityTextureName"            "sniper_assassinate"
    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"  

    "Modifiers"
    {
        "sniper_range_buff"
        {
            "Passive"            "1"            
            "IsBuff"             "1"
            
            "Properties"
            {
                "MODIFIER_PROPERTY_ATTACK_RANGE_BONUS"  "%range_bonus"     
                "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%attackspeed_reduction" 
                "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE"  "%damage_bonus"
            }
                   
        }
    }  

    "AbilitySpecial"
      {
          "01"
          {
              "var_type"            "FIELD_INTEGER"
              "range_bonus"            "2000"
          }
          "02"
          {
              "var_type"            "FIELD_FLOAT"
              "attackspeed_reduction" "-70"
          }
          "03"
          {
              "var_type"            "FIELD_FLOAT"
              "damage_bonus"        "980"
          }
      }  
}

"ability_upgrade_sniper_4"
{
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
    "AbilityTextureName"    "sniper_machine_gun_icon"

    "AbilityGoldCost"       "50"

    "OnSpellStart"
    {

        "RunScript"
        {
            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
            "Function"      "upgradeTower"


            "AddAbility1"
            {
                "Ability"   "ability_sniper_machine_gun"
                "Level"     "1"
            }
        }
    }

    "AbilitySpecial"
    {
        "01"
        {
          "var_type"         "FIELD_INTEGER"
          "range"            "500"
        }

        "02"
        {
          "var_type"        "FIELD_FLOAT"
          "speed"           "3660"
        }

        "03"
        {
          "var_type"        "FIELD_FLOAT"
          "damage"          "20"
        }      

        "04"
        {
            "var_type"      "FIELD_INTEGER"
            "gold_cost"     "50"
        }   
    } 
}

"ability_sniper_machine_gun"
{
    "BaseClass" "ability_datadriven"
    "AbilityBehavior" "DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
    "AbilityTextureName"    "sniper_machine_gun_icon"

    "Modifiers"
    {
        "sniper_machine_gun_buff"
        {
            "Passive"            "1"            
            "IsBuff"             "1"
            
            "Properties"
            {
                "MODIFIER_PROPERTY_ATTACK_RANGE_BONUS"  "%range_bonus"     
                "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%attackspeed_reduction" 
                "MODIFIER_PROPERTY_BASE_ATTACK_TIME_CONSTANT"   "%base_attack_time"
                "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE"  "%damage_bonus"
            }
                   
        }
    }  

    "AbilitySpecial"
    {
        "01"
        {
          "var_type"            "FIELD_INTEGER"
          "range_bonus"            "-500"
        }

        "02"
        {
          "var_type"            "FIELD_FLOAT"
          "attackspeed_reduction" "430"
        }

        "03"
        {
          "var_type"            "FIELD_FLOAT"
          "damage_bonus"        "20"
        }
        "04"
        {
          "var_type"            "FIELD_FLOAT"
          "base_attack_time"        "0.05"
        }
    }  
}



"ability_upgrade_sniper_5"
{
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
    "AbilityTextureName"    "sven_gods_strength"

    "AbilityGoldCost"       "50"

    "AbilitySpecial"
    {
        "01"
        {
            "var_type"            "FIELD_INTEGER"
            "gold_cost"            "50"
        }       
    }

    "OnSpellStart"
    {

        "RunScript"
        {
            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
            "Function"      "upgradeTower"


            "AddAbility1"
            {
                "Ability"   "sven_gods_strength"
                "Level"     "3"
            }
        }
    }
}

"ability_upgrade_sniper_6"
{
    "BaseClass"             "ability_datadriven"
    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
    "AbilityTextureName"    "ogre_magi_bloodlust"

    "AbilityGoldCost"       "50"

    "AbilitySpecial"
    {
        "01"
        {
            "var_type"            "FIELD_INTEGER"
            "gold_cost"            "50"
        }       
    }

    "OnSpellStart"
    {

        "RunScript"
        {
            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
            "Function"      "upgradeTower"


            "AddAbility1"
            {
                "Ability"   "ogre_magi_bloodlust"
                "Level"     "4"
                "AutoCast"  "true"
            }
        }
    }
}



