"DOTAAbilities"
{
	//Increases boss golem's max hp every second depending on number of GolemSummonerCast
	//Also provides damage reduction per stack
	"ability_boss_golem_summoner"
	{
		"BaseClass"             "ability_datadriven"
		"AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
		"AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
		"AbilityTextureName"    "warlock_fatal_bonds"	
		"AbilityUnitTargetTeam"	"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
		
		"AbilityManaCost"		"0"
		"AbilityCooldown"		"600"
		"AbilityCastRange"		"10000"
		
		//this script applies a stack of the ability
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"unit_scripts/bosses/golem_summoner.lua"
				"Function"		"GolemSummonerCast"
				"AbilityContext"
				{
					"modifier"	"modifier_boss_golem_summoner"
				}
			}		
		}
	
		"Modifiers"
		{	
			//This modifier is hidden on the summmoner
			//When the summoner dies, a stack is removed from the golem
			"modifier_boss_golem_summoner_death"
			{
				"Passive"			"1"
				"IsHidden"			"1"
				"IsPurgable"		"0"		
			
				"OnDeath"
				{
					"RunScript"
					{
						"ScriptFile"	"unit_scripts/bosses/golem_summoner.lua"
						"Function"		"GolemSummonerOnDeath"
						"AbilityContext"
						{						
							"modifier"		"modifier_boss_golem_summoner"
						}
					}
				}
			}
	
			//This modifier increases the golem's hp per sec and provides damage reduction
			"modifier_boss_golem_summoner"
			{
				"Passive"			"0"
				"IsHidden"			"0"
				"IsBuff"			"1"
				"IsPurgable"		"0"			
	
				"ThinkInterval"  	"%tick"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"unit_scripts/bosses/golem_summoner.lua"
						"Function"		"GolemSummonerTick"
						"AbilityContext"
						{
							"hp_increase"	"%hp_per_second * %tick"
							"modifier"		"modifier_boss_golem_summoner"
						}
					}				
				}					
	
				//reduce damage by 25% for each stack of the summoner's modifier on the boss
				"Properties"
				{
					"MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE" "%damage_reduction"			    
				}
			}
		}
		
		"AbilitySpecial"
		{		
			"01"
			{
				"var_type"		"FIELD_FLOAT"
				"tick"			"0.2"
			}
			"02"
			{
				"var_type"		"FIELD_INTEGER"
				"hp_per_second"	"10"
			}		
			"03"
			{
				"var_type"		"FIELD_FLOAT"
				"damage_reduction"		"25.0"
			}
		}	
	}
	"ability_creep_heal"
	{
		"BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "witch_doctor_voodoo_restoration"	
	    
	    "AbilityManaCost"		"0"
	    
	   	"Modifiers"
	   	{
	   		"modifier_creep_healer"
	   		{
	   			"Passive"			"1"
	   			"IsHidden"			"1"
	   			"IsBuff"			"1"  	
	   	
	   			"OnCreated"
	   			{
	   				"RunScript"
			    	{
			    		"ScriptFile"	"unit_scripts/creeps/healer.lua"
			    		"Function"		"HealerAttachParticle"
			    		"Particle"		"particles/units/heroes/hero_witchdoctor/witchdoctor_voodoo_restoration.vpcf"
			    	}		    	
	   			}	
	
	   			"ThinkInterval"  "%tick"
	   			"OnIntervalThink"
	   			{   				
	   				"ApplyModifier"
	   				{
	   					"ModifierName"	"modifier_creep_heal"
	   					"Target"
	                    {
	                        "Center"    "CASTER"
	                        "Radius"    "%aoe_radius"                        
	                        "Teams"     "DOTA_UNIT_TARGET_TEAM_FRIENDLY"
	                        "Types"     "DOTA_UNIT_TARGET_ALL" 
	                    }
	   					"Duration"		"1"
	   				}
	   			}
	   		}
	
	   		"modifier_creep_heal"
	   		{
	   			"Passive"			"0"
	   			"IsHidden"			"0"
	   			"IsBuff"			"1"
	
	   			"OnCreated"
	   			{
	   				"AttachEffect"
	   				{
	   					"EffectName"        "particles/units/heroes/hero_witchdoctor/witchdoctor_voodoo_restoration_heal.vpcf"
	   					"EffectAttachType"  "follow_origin"
	   					"Target"            "TARGET"
	   				}
	   			}
	
	   			"ThinkInterval"  "%tick"
	   			"OnIntervalThink"
	   			{
	   				"Heal"
	   				{
	   					"Target"        "TARGET"
	   					//this has to be at least 1, otherwise the heal seems to be rounded down to 0
	   					"HealAmount"	"(%heal_per_second * %tick)"
	   				}
	   			}
	   		}
	   	}
	    
	    "AbilitySpecial"
	    {
	    	"01"
	    	{
	    		"var_type"		"FIELD_INTEGER"
	    		"aoe_radius"	"500"
	    	}
	    	"02"
	    	{
	    		"var_type"		"FIELD_FLOAT"
	    		"tick"			"0.2"
	    	}
	    	"03"
	    	{
	    		"var_type"		"FIELD_FLOAT"
	    		"heal_per_second"	"5 10"
	    	}
	    }
	
	    "precache"
	    {
	    	"particle"  "particles/units/heroes/hero_witchdoctor/witchdoctor_voodoo_restoration_heal.vpcf"
	    	"particle"  "particles/units/heroes/hero_witchdoctor/witchdoctor_voodoo_restoration.vpcf"
	    }
	    
	}
	//lays eggs periodically
	"ability_creep_hive_lay_egg"
	{
		"BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "broodmother_spawn_spiderite"
		
	    "AbilityCooldown"		"8.0"
	    
	    "OnSpellStart"
	    {
	    	"RunScript"
			{
				"ScriptFile"	"unit_scripts/creeps/hive.lua"
				"Function"		"HiveLayEgg"
			}	
	    }
	}
	
	//hatch the egg
	"ability_creep_hive_egg_hatch"
	{
		"BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "broodmother_spawn_spiderlings"
	
	    "AbilityCooldown"		"8"  
		
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"unit_scripts/creeps/hive_egg.lua"
				"Function"		"HiveEggHatch"
			}
		}	
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"babies"			"5"
			}		
		}
	}
	"ability_creep_ninja_invis"
	{
		"BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "riki_permanent_invisibility"
	
	    "AbilityCooldown"		"10 5 2"
	
		"Modifiers"
		{
			"modifier_creep_ninja"
			{
				"Passive"			"1"
				"IsHidden"			"1"
				"IsBuff"			"1"
				
				"OnTakeDamage"
				// "%attack_damage" is set to the damage value after mitigation
				{			
					"RunScript"
					{
						"ScriptFile"	"unit_scripts/creeps/ninja.lua"
						"Function"		"NinjaInvis"
					}	
				}					
			}
	
			"modifier_creep_ninja_invis"
			{
				"Passive"			"0"
				"IsHidden"			"0"
				"IsDebuff"			"0"
			
				"EffectName"		"particles/units/heroes/hero_bounty_hunter/bounty_hunter_windwalk.vpcf"
				"EffectAttachType"	"follow_origin"
	
				"Duration"			"%invis_duration"
	
				"OnCreated"
				{
					"FireSound"
					{
						"EffectName"	"Hero_BountyHunter.WindWalk"
						"Target" 		"TARGET"
					}
				}		
				"States"
				{
					"MODIFIER_STATE_INVISIBLE"		"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_UNIT_COLLISION"	"MODIFIER_STATE_VALUE_ENABLED"
				}	
				"Properties"
				{				
				    "MODIFIER_PROPERTY_MOVESPEED_BONUS_CONSTANT" "%bonus_movement_speed" 			    			    
				}	
			}
		}
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"invis_duration"	"3 6 9"
			}	
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"invis_timeout"		"10"
			}	
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"bonus_movement_speed"		"100 200 300"
			}		
		}
	
		"precache"
		{
			"particle"  "particles/units/heroes/hero_bounty_hunter/bounty_hunter_windwalk.vpcf"
			"soundfile" "soundevents/game_sounds_heroes/game_sounds_bounty_hunter.vsndevts"
		}
	}
	//makes target temporarily magic immune
	"ability_creep_saint_repel"
	{
		"BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "omniknight_repel"
		
	    "AbilityCooldown"		"10"
	    "AbilityCastRange"      "%range"
	    "AbilityCastPoint"      "0.5"
	    "AbilityCastAnimation"  "ACT_DOTA_CAST_ABILITY_2"
	    "OnSpellStart"
	    {
	       "ApplyModifier"
	        {
	            "ModifierName"  "modifier_creep_saint_repel"
	            "Target"        "TARGET"
	            "Duration"      "%duration"
	        }
	
	        "FireSound"
	        {
	            "EffectName"    "Hero_Omniknight.Repel"
	            "Target"            "TARGET"
	        }
	    }
	    
	    "Modifiers"
	    {
	        "modifier_creep_saint_repel"
	        {
	            "Passive"           "0"
	            "IsHidden"          "0"
	            "IsPurgable"        "1"
	            "IsBuff"            "1"           
	    
	            "EffectName"        "particles/units/heroes/hero_omniknight/omniknight_repel_buff.vpcf"
	            "EffectAttachType"  "follow_origin"
	    
	            "States"
	            {
	                "MODIFIER_STATE_MAGIC_IMMUNE"        "MODIFIER_STATE_VALUE_ENABLED"
	            }
	        }
	    }
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"  "FIELD_INTEGER"
	            "duration"  "5"
	        }    
	        "01"
	        {
	            "var_type"  "FIELD_INTEGER"
	            "range"     "500"
	        }        
	    }
	    
	
	    "precache"
	    {
	        "particle"  "particles/units/heroes/hero_omniknight/omniknight_repel_buff.vpcf"
	        "soundfile" "soundevents/game_sounds_heroes/game_sounds_omniknight.vsndevts"
	    }
	}
	
	//makes target temporarily physical damage immune
	"ability_creep_saint_guardian_angel"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "omniknight_guardian_angel"
	    
	    "AbilityCooldown"       "10"
	    "AbilityCastRange"      "%range"
	    "AbilityCastPoint"      "0.5"
	    "AbilityCastAnimation"  "ACT_DOTA_CAST_ABILITY_1"
	    "OnSpellStart"
	    {
	       "ApplyModifier"
	        {
	            "ModifierName"  "modifier_creep_saint_guardian_angel"
	            "Target"        "TARGET"
	            "Duration"      "%duration"
	        }
	
	        "FireSound"
	        {
	            "EffectName"    "Hero_Omniknight.GuardianAngel"
	            "Target"        "TARGET"
	        }
	    }
	    
	    "Modifiers"
	    {
	        "modifier_creep_saint_guardian_angel"
	        {
	            "Passive"           "0"
	            "IsHidden"          "0"
	            "IsPurgable"        "1"
	            "IsBuff"            "1"           
	    
	            "EffectName"        "particles/units/heroes/hero_omniknight/omniknight_guardian_angel_omni.vpcf"
	            "EffectAttachType"  "follow_origin"
	    
	            "States"
	            {
	                "MODIFIER_STATE_ATTACK_IMMUNE"        "MODIFIER_STATE_VALUE_ENABLED"
	            }
	        }
	    }
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"  "FIELD_INTEGER"
	            "duration"  "5"
	        }    
	        "01"
	        {
	            "var_type"  "FIELD_INTEGER"
	            "range"     "500"
	        }        
	    }
	    
	
	    "precache"
	    {
	        "particle"  "particles/units/heroes/hero_omniknight/omniknight_repel_buff.vpcf"
	        "soundfile" "soundevents/game_sounds_heroes/game_sounds_omniknight.vsndevts"
	    }
	}
	//purge and speed up nearby allies, and add some hp regen
	"ability_creep_sergeant"
	{
		"BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "legion_commander_press_the_attack"
		
	    "AbilityCooldown"		"12 8"
	    "AbilityCastRange"      "%range"
	    "AbilityCastPoint"      "0.5"
	    "AbilityCastAnimation"  "ACT_DOTA_CAST_ABILITY_2"
	
	    "OnSpellStart"
	    {
	       "ApplyModifier"
	        {
	            "ModifierName"  "modifier_creep_sergeant_buff"
	            "Target"
	            {
	                "Center"        "CASTER"
	                "Radius"        "%radius"
	                "Teams"         "DOTA_UNIT_TARGET_TEAM_FRIENDLY" 
	                "Type"          "DOTA_UNIT_TARGET_ALL"                
	            }
	
	            "Duration"      "%duration"
	        }
	
	        //this script handles the AoE purge effect
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/creeps/sergeant.lua"
	            "Function"      "CreepSergeantPurge"
	        }
	    }
	    
	    "Modifiers"
	    {
	        //attack and move speed modifier
	        "modifier_creep_sergeant_buff"
	        {
	            "Passive"           "0"
	            "IsHidden"          "0"
	            "IsPurgable"        "1"
	            "IsBuff"            "1"           
	    
	            "EffectName"        "particles/units/heroes/hero_legion_commander/legion_commander_press.vpcf"
	            "EffectAttachType"  "follow_origin"
	    
	            "Properties"
	            {
	                "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%bonus_attack_speed"
	                "MODIFIER_PROPERTY_MOVESPEED_BONUS_CONSTANT"    "%bonus_movement_speed" 
	                "MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT"       "%bonus_hp_regen"
	            }
	        }
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"  "FIELD_INTEGER"
	            "duration"  "5 6"
	        }    
	        "02"
	        {
	            "var_type"  "FIELD_INTEGER"
	            "radius"     "500"
	        }  
	        "03"
	        {
	            "var_type"  "FIELD_INTEGER"
	            "bonus_attack_speed"    "50"
	        } 
	        "04"
	        {
	            "var_type"  "FIELD_INTEGER"
	            "bonus_movement_speed"  "50 80"
	        }    
	        "05"
	        {
	            "var_type"  "FIELD_INTEGER"
	            "bonus_hp_regen"  "5 20"
	        }    
	    }    
	
	    "precache"
	    {
	        "particle"  "particles/units/heroes/hero_legion_commander/legion_commander_press.vpcf"
	        "soundfile" "soundevents/game_sounds_heroes/game_sounds_legion_commander.vsndevts"
	    }
	}
	"ability_creep_splitter_split"
	{
		"BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "mud_golem_shard_split"
		
		"Modifiers"
		{
			"modifier_creep_split"
			{
				"Passive"			"1"
				"IsHidden"			"0"
				"IsBuff"			"1"
				
				"OnDeath"
				{
					"RunScript"
					{
						"ScriptFile"	"unit_scripts/creeps/splitter.lua"
						"Function"		"Split"
					}
				}			
			}
		}
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"splits"			"1 2 3 4"
			}		
		}
	}
	//this locks the creep's move speed at 400 and makes it immune to slows
	"ability_creep_sprinter"
	{
		"BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "slardar_sprint"
		
		"Modifiers"
		{
			"modifier_creep_sprinter"
			{
				"Passive"			"1"
				"IsHidden"			"0"
				"IsBuff"			"1"
				
				"OnCreated"
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_phased"
						"Target" 		"CASTER"	
						"TextureName"	"phase_boots"				
					}
				}
	
				"Properties"
				{
					"MODIFIER_PROPERTY_MOVESPEED_ABSOLUTE" "%movespeed"			    
				}
			}
		}
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"movespeed"			"400"
			}		
		}
	}
	"ability_creep_zealot"
	{
		"BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "bloodseeker_thirst"    
	
		"Modifiers"
		{
			"modifier_creep_zealot"
			{
				"Passive"			"1"
				"IsHidden"			"0"
				"IsBuff"			"1"
				
				"OnCreated"
				{
					"AttachEffect"
					{
						"EffectName"        "particles/units/heroes/hero_bloodseeker/bloodseeker_thirst_owner.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "CASTER"
					}	
				}
	
				"OnTakeDamage"
				// "%attack_damage" is set to the damage value after mitigation
				{		
					
					"RunScript"
					{
						"ScriptFile"	"unit_scripts/creeps/zealot.lua"
						"Function"		"ZealotUpdateSpeed"
					}	
				}					
			}		
		}
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"max_speed"			"522 700 900"
			}					
		}
	
		"precache"
		{
			"particle"  "particles/units/heroes/hero_bloodseeker/bloodseeker_thirst_owner.vpcf"		
		}
	}
	
	"ability_creep_zealot_attackspeed"
	{
		"BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "troll_warlord_battle_trance"    
	
		"Modifiers"
		{
			"modifier_creep_zealot_attackspeed_passive"
			{
				"Passive"			"1"
				"IsHidden"			"1"
				"IsBuff"			"1"		
				
				"OnTakeDamage"
				// "%attack_damage" is set to the damage value after mitigation
				{		
					
					"RunScript"
					{
						"ScriptFile"	"unit_scripts/creeps/zealot.lua"
						"Function"		"ZealotUpdateAttackSpeed"
						"AbilityContext"
						{
							"modifier"	"modifier_creep_zealot_attackspeed"
						}
					}	
				}					
			}		
	
			"modifier_creep_zealot_attackspeed"
			{
				"Passive"			"0"
				"IsHidden"			"0"
				"IsBuff"			"1"		
				
				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%bonus_attack_speed"			  
				}					
			}	
		}
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"bonus_attack_speed"	"50"
			}	
			"01"
			{
				"var_type"		"FIELD_INTEGER"
				"hp_trigger_percent"	"20"
			}				
		}
	}
	"ability_open_page_one"
	{
	    "BaseClass"                 "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityTextureName"        "invoker_quas"
	    "AbilityType"               "DOTA_ABILITY_TYPE_BASIC"
	    "MaxLevel"                  "1"
	    "LevelsBetweenUpgrades"     "1"
	    "AbilityCastPoint"        "0.0 0.0 0.0 0.0"
	    "AbilityCooldown"       "0.0 0.0 0.0 0.0"
	    "AbilityManaCost"       "0"
	    "AbilityGoldCost"             "0"
	
	    "OnSpellStart"
	    {
	        "RunScript"
	        {
	            "Target"        "POINT"
	            "ScriptFile"      "scripts/vscripts/addon_game_mode.lua"
	            "Function"        "goToPage"
	        }
	    }
	}
	
	
	"ability_open_page_two"
	{
	    "BaseClass"                 "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityTextureName"        "invoker_wex"
	    "AbilityType"               "DOTA_ABILITY_TYPE_BASIC"
	    "MaxLevel"                  "1"
	    "LevelsBetweenUpgrades"     "1"
	    "AbilityCastPoint"        "0.0 0.0 0.0 0.0"
	    "AbilityCooldown"       "0.0 0.0 0.0 0.0"
	    "AbilityManaCost"       "0"
	    "AbilityGoldCost"             "0"
	
	    "OnSpellStart"
	    {
	        "RunScript"
	        {
	            "Target"        "POINT"
	            "ScriptFile"      "scripts/vscripts/addon_game_mode.lua"
	            "Function"        "goToPage"
	        }
	    }
	}
	
	"ability_open_page_three"
	{
	    "BaseClass"                 "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityTextureName"        "invoker_exort"
	    "AbilityType"               "DOTA_ABILITY_TYPE_BASIC"
	    "MaxLevel"                  "1"
	    "LevelsBetweenUpgrades"     "1"
	    "AbilityCastPoint"        "0.0 0.0 0.0 0.0"
	    "AbilityCooldown"       "0.0 0.0 0.0 0.0"
	    "AbilityManaCost"       "0"
	    "AbilityGoldCost"             "0"
	
	    "OnSpellStart"
	    {
	        "RunScript"
	        {
	            "Target"        "POINT"
	            "ScriptFile"      "scripts/vscripts/addon_game_mode.lua"
	            "Function"        "goToPage"
	        }
	    }
	}
	
	"ability_open_page_four"
	{
	    "BaseClass"                 "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityTextureName"        "spectre_dispersion"
	    "AbilityType"               "DOTA_ABILITY_TYPE_BASIC"
	    "MaxLevel"                  "1"
	    "LevelsBetweenUpgrades"     "1"
	    "AbilityCastPoint"        "0.0 0.0 0.0 0.0"
	    "AbilityCooldown"       "0.0 0.0 0.0 0.0"
	    "AbilityManaCost"       "0"
	    "AbilityGoldCost"             "0"
	
	    "OnSpellStart"
	    {
	        "RunScript"
	        {
	            "Target"        "POINT"
	            "ScriptFile"      "scripts/vscripts/addon_game_mode.lua"
	            "Function"        "goToPage"
	        }
	    }
	}
	
	"ability_return_to_start_page"
	{
	   "BaseClass"                 "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityTextureName"        "invoker_invoke"
	    "AbilityType"               "DOTA_ABILITY_TYPE_BASIC"
	    "MaxLevel"                  "1"
	    "LevelsBetweenUpgrades"     "1"
	    "AbilityCastPoint"        "0.0 0.0 0.0 0.0"
	    "AbilityCooldown"       "0.0 0.0 0.0 0.0"
	    "AbilityManaCost"       "0"
	    "AbilityGoldCost"             "0"
	
	    "OnSpellStart"
	    {
	        "RunScript"
	        {
	            "Target"        "POINT"
	            "ScriptFile"      "scripts/vscripts/addon_game_mode.lua"
	            "Function"        "returnToStartPage"
	        }
	    } 
	}
	"ability_sell_tower"
	{
		"BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "alchemist_goblins_greed"
	
	    "OnSpellStart"
	    {
	    	"RunScript"
	    	{
	    		"ScriptFile"	"scripts/vscripts/addon_game_mode.lua"
	    		"Function"		"sellTower"
	    	}
	    }
	}
	"ability_spawn_catapult_tower"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "gyrocopter_homing_missile"
	    "MaxLevel"              "1"
	
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"               "2.0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"               "0" 
	    "AbilityGoldCost"               "100"
	 
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/spawn_tower.lua"
	            "Function"      "SpawnTower"
	
	            "AbilityContext"
	            {
	                "tower_name"    "tower_catapult"
	            }
	        }  
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "damage"            "5"
	        }
	        "02"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "cooldown"          "5"
	        }
	    }
	}
	
	
	"ability_spawn_demon_tower"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "terrorblade_metamorphosis"
	    "MaxLevel"              "1"
	
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"               "2.0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"               "0" 
	    "AbilityGoldCost"               "100"
	 
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/spawn_tower.lua"
	            "Function"      "SpawnTower"
	
	            "AbilityContext"
	            {
	                "tower_name"    "tower_demon"
	            }
	        }  
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "damage"            "5"
	        }
	        "02"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "cooldown"          "5"
	        }
	    }
	}
	
	
	"ability_spawn_dragon_tower"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "dragon_knight_elder_dragon_form"
	    "MaxLevel"              "1"
	
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"               "2.0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"               "0" 
	    "AbilityGoldCost"               "100"
	 
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/spawn_tower.lua"
	            "Function"      "SpawnTower"
	
	            "AbilityContext"
	            {
	                "tower_name"    "tower_dragon"
	            }
	        }  
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "damage"            "5"
	        }
	        "02"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "cooldown"          "5"
	        }
	    }
	}
	
	
	"ability_spawn_iceberg_tower"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "winter_wyvern_cold_embrace"
	    "MaxLevel"              "1"
	
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"       "2.0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"       "0" 
	    "AbilityGoldCost"       "100"
	 
	    // Special
	    //------------------------------------------------------------------------------------------------------------
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/spawn_tower.lua"
	            "Function"      "SpawnTower"
	
	            "AbilityContext"
	            {
	                "tower_name"    "tower_iceberg"
	            }
	        }  
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "slow"          "25 25 50"
	        }
	        "02"
	        {
	            "var_type"      "FIELD_FLOAT"
	            "range"         "500 800 800"
	        }
	    }
	
	    "precache"
	    {
	        "model"  "models/particle/ice_shards.vmdl"       
	    }
	}
	
	"ability_spawn_laser_tower"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "tinker_laser"
	    "MaxLevel"              "1"
	
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"               "2.0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"               "0" 
	    "AbilityGoldCost"               "100"
	 
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/spawn_tower.lua"
	            "Function"      "SpawnTower"
	
	            "AbilityContext"
	            {
	                "tower_name"    "tower_laser"
	            }
	        }  
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "damage"            "5"
	        }
	        "02"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "cooldown"          "5"
	        }
	    }
	}
	
	
	"ability_spawn_magic_barracks"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "silencer_curse_of_the_silent"    
	    "MaxLevel"              "1"
	    
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"       "1.0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"       "0" 
	    "AbilityGoldCost"       "200"
	 
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/spawn_tower.lua"
	            "Function"      "SpawnTower"
	
	            "AbilityContext"
	            {
	                "tower_name"    "barracks_magic"
	            }
	        } 
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "creep_dmg"        "5"
	        }
	        "02"
	        {
	            "var_type"      "FIELD_FLOAT"
	            "creep_hp"        "25"
	        }        
	    }
	}
	
	"ability_spawn_melee_barracks"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "sven_warcry"    
	    "MaxLevel"              "1"
	    
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"       "1.0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"       "0" 
	    "AbilityGoldCost"       "200"
	 
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/spawn_tower.lua"
	            "Function"      "SpawnTower"
	
	            "AbilityContext"
	            {
	                "tower_name"    "barracks_melee"
	            }
	        } 
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "creep_dmg"        "5"
	        }
	        "02"
	        {
	            "var_type"      "FIELD_FLOAT"
	            "creep_hp"        "100"
	        }        
	    }
	}
	
	"ability_spawn_ranged_barracks"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "drow_ranger_marksmanship"
	    "MaxLevel"              "1"
	    
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"       "1.0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"       "0" 
	    "AbilityGoldCost"       "200"
	 
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/spawn_tower.lua"
	            "Function"      "SpawnTower"
	
	            "AbilityContext"
	            {
	                "tower_name"    "barracks_ranged"
	            }
	        }   
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "creep_dmg"        "5"
	        }
	        "02"
	        {
	            "var_type"      "FIELD_FLOAT"
	            "creep_hp"        "100"
	        }        
	    }
	}
	
	"ability_spawn_sniper_tower"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "sniper_take_aim"
	    "MaxLevel"              "1"
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"       "2.0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"       "0" 
	    "AbilityGoldCost"       "40"
	 
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/spawn_tower.lua"
	            "Function"      "SpawnTower"
	
	            "AbilityContext"
	            {
	                "tower_name"    "tower_sniper"
	            }
	        }        
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "damage"        "10"
	        }
	        "02"
	        {
	            "var_type"      "FIELD_FLOAT"
	            "range"         "1000"
	        }
	    }
	
	    "precache"
	    {
	        "particle"      "particles/units/heroes/hero_sniper/sniper_base_attack.vpcf"
	        "soundfile"     "soundevents/game_sounds_heroes/game_sounds_sniper.vsndevts"
	        "model"         "models/heroes/sniper/sniper.vmdl"
	    }
	}
	
	"ability_spawn_soul_siphon_tower"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "soul_siphon_icon"
	    "MaxLevel"              "1"
	
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"               "2.0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"               "0" 
	    "AbilityGoldCost"               "100"
	 
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/spawn_tower.lua"
	            "Function"      "SpawnTower"
	
	            "AbilityContext"
	            {
	                "tower_name"    "tower_soul_siphon"
	            }
	        }  
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "damage"            "5"
	        }
	        "02"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "cooldown"          "5"
	        }
	    }
	}
	
	
	"ability_spawn_tackshooter_tower"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "shredder_return_chakram"
	    "MaxLevel"              "1"
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"       "2.0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"       "0" 
	    "AbilityGoldCost"       "100"
	 
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/spawn_tower.lua"
	            "Function"      "SpawnTower"
	
	            "AbilityContext"
	            {
	                "tower_name"    "tower_tackshooter"
	            }
	        }   
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "damage"            "10"
	        }
	        "02"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "shot_count"        "8"
	        }
	    }
	}
	
	"ability_spawn_tesla_coil_tower"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "disruptor_thunder_strike"
	    "MaxLevel"              "1"
	
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"               "2.0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"               "0" 
	    "AbilityGoldCost"               "100"
	 
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/spawn_tower.lua"
	            "Function"      "SpawnTower"
	
	            "AbilityContext"
	            {
	                "tower_name"    "tower_tesla_coil"
	            }
	        }  
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "damage"            "5"
	        }
	        "02"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "cooldown"          "5"
	        }
	    }
	}
	
	
	"ability_spawn_tombstone_tower"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "tombstone_icon"    
	    "MaxLevel"              "1"
	    
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"       "1.0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"       "0" 
	    "AbilityGoldCost"       "200"
	 
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/spawn_tower.lua"
	            "Function"      "SpawnTower"
	
	            "AbilityContext"
	            {
	                "tower_name"    "tower_tombstone"
	            }
	        } 
	    }
	}
	
	"ability_spawn_utility_barracks"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "witch_doctor_voodoo_restoration"    
	    "MaxLevel"              "1"
	    
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"       "1.0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"       "0" 
	    "AbilityGoldCost"       "200"
	 
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/spawn_tower.lua"
	            "Function"      "SpawnTower"
	
	            "AbilityContext"
	            {
	                "tower_name"    "barracks_utility"
	            }
	        } 
	    }
	}
	
	"containers_lua_targeting"
	  {
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_BOTH"
	    //"AbilityUnitTargetType"     "DOTA_UNIT_TARGET_ALL"
	    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_ALL"
	    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
	    "BaseClass"         "ability_lua"
	    "AbilityTextureName"        "rubick_empty1"
	    "ScriptFile"          "libraries/abilities/containers_lua_targeting"
	    "MaxLevel"            "1"
	    "IsCastableWhileHidden" "1"
	    
	    // Casting
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCastRange"        "0"
	    "AbilityCastPoint"        "0.0"
	
	    // Time   
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"       "0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"       "0 0 0 0"
	}
	"containers_lua_targeting_tree"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_BOTH"
	    //"AbilityUnitTargetType"     "DOTA_UNIT_TARGET_ALL"
	    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_ALL | DOTA_UNIT_TARGET_TREE"
	    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
	    "BaseClass"         "ability_lua"
	    "AbilityTextureName"        "rubick_empty1"
	    "ScriptFile"          "libraries/abilities/containers_lua_targeting_tree"
	    "MaxLevel"            "1"
	    "IsCastableWhileHidden" "1"
	    
	    // Casting
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCastRange"        "0"
	    "AbilityCastPoint"        "0.0"
	
	    // Time   
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"       "0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"       "0 0 0 0"
	}
	//tracking projectile that can damage multiple units
	"ability_magic_defender_0"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"vengefulspirit_magic_missile"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
		"SpellImmunityType"             "SPELL_IMMUNITY_ENEMIES_NO"
	
		"AbilityType" 					"DOTA_ABILITY_TYPE_BASIC"
		"AbilityCastPoint"				"0.3"
		
		"AbilityDamage"					"20"
		"AbilityManaCost"				"0"
		"AbilityCastRange"				"600"
		"AbilityCooldown"				"4"
	
		"OnSpellStart"
		{	
			"TrackingProjectile"
	        {
	            "Target"            "TARGET"
	            "EffectName"        "particles/units/heroes/hero_vengeful/vengeful_magic_missle.vpcf"
	            "Dodgeable"         "1"
	            "ProvidesVision"    "0"
	            "MoveSpeed"         "%speed"
	            "SourceAttachment"  "DOTA_PROJECTILE_ATTACHMENT_ATTACK_1"
	        } 	
	
	        "FireSound"
	        {
	            "EffectName"    "Hero_VengefulSpirit.MagicMissile"
	            "Target"        "CASTER"
	        }	
		}
		
		"OnProjectileHitUnit"
		{
			"DeleteOnHit"	"1"
			"Damage"
			{
				"Target"		"TARGET"
				"Type"			"DAMAGE_TYPE_MAGICAL"
				"Damage"		"%dmg"
			}
		}
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"speed"		"900"
			}
			"02"
			{
				"var_type"	"FIELD_INTEGER"
				"dmg"		"20"
			}
			"03"
			{
				"var_type"	"FIELD_INTEGER"
				"range"		"600"
			}
			"03"
			{
				"var_type"	"FIELD_INTEGER"
				"width"		"200"
			}
	
		}
	
		"precache"
		{
			"particle"  "particles/units/heroes/hero_vengeful/vengeful_magic_missle.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_vengefulspirit.vsndevts"
		}
	}	
	
	
	//linear projectile that can damage multiple units
	"ability_magic_defender_1"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"ability_magic_defender_0_icon"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
	
		"AbilityType" 					"DOTA_ABILITY_TYPE_BASIC"
		"AbilityCastPoint"				"0.5"
		
		"AbilityDamage"					"20"
		"AbilityManaCost"				"0"
		"AbilityCastRange"				"600"
		"AbilityCooldown"				"4"
	
		"OnSpellStart"
		{		
			"LinearProjectile"
			{
			    "Target"      	 "TARGET"
				"EffectName"	 "particles/defender_magic/ability_0/white.vpcf"
				"MoveSpeed"		 "%speed"
				"StartRadius"	 "%width"
				"StartPosition"  "attach_attack1"
				"EndRadius"      "%width"
				"HasFrontalCone" "0"
				"FixedDistance"  "%range"
				"TargetTeams"	 "DOTA_UNIT_TARGET_TEAM_ENEMY"
				"TargetTypes"	 "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
				"TargetFlags"	 "DOTA_UNIT_TARGET_FLAG_NONE"						
			    "ProvidesVision" "0"
			}
		}
		
		"OnProjectileHitUnit"
		{
			"DeleteOnHit"	"0"
			"Damage"
			{
				"Target"		"TARGET"
				"Type"			"DAMAGE_TYPE_MAGICAL"
				"Damage"		"%dmg"
			}
		}
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"speed"		"900"
			}
			"02"
			{
				"var_type"	"FIELD_INTEGER"
				"dmg"		"20"
			}
			"03"
			{
				"var_type"	"FIELD_INTEGER"
				"range"		"600"
			}
			"03"
			{
				"var_type"	"FIELD_INTEGER"
				"width"		"200"
			}
	
		}
	
		"precache"
		{
			"particle"  "particles/defender_magic/ability_0/white.vpcf"
		}
	}	
	
	//shoot 3 bolts in a cone
	"ability_magic_defender_2"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"ability_magic_defender_0_icon"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
	
		"AbilityType" 					"DOTA_ABILITY_TYPE_BASIC"
		"AbilityCastPoint"				"0.5"
		
		"AbilityDamage"					"20"
		"AbilityManaCost"				"0"
		"AbilityCastRange"				"600"
		"AbilityCooldown"				"4"
	
		"OnSpellStart"
		{	
			"FireSound"
			{
				"EffectName"	"n_creep_SatyrHellcaller.Shockwave"
				"Target" 		"TARGET"
			}
			"RunScript"
			{
				"ScriptFile"	"unit_scripts/defenders/defender_magic.lua"
				"Function"		"DefenderMagicTrishot"			
			}		
		}	
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"speed"		"900"
			}
			"02"
			{
				"var_type"	"FIELD_INTEGER"
				"dmg"		"20"
			}
			"03"
			{
				"var_type"	"FIELD_INTEGER"
				"range"		"800"
			}
			"03"
			{
				"var_type"	"FIELD_INTEGER"
				"width"		"200"
			}
			"04"
			{
				"var_type"	"FIELD_INTEGER"
				"spread"	"250"
			}
		}
	
		"precache"
		{
			"particle"  "particle_name"
			"soundfile" "soundevents/game_sounds_creeps.vsndevts"
		}
	}	
	//a passive that toggles regen off when taking damage, then 
	//switches it back on after %timeout
	"ability_melee_defender_regen"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_TOGGLE"
	    "AbilityTextureName"    "witch_doctor_voodoo_restoration"      
	
	    "precache"
	    {
	        "particle"  "particles/units/heroes/hero_oracle/oracle_purifyingflames.vpcf"
	    }
	
	    "OnToggleOn"
	    {
	        "ApplyModifier"
	        {
	            "ModifierName"  "modifier_melee_defender_regen"
	            "Target"        "CASTER"            
	        }
	    }
	
	    "OnToggleOff"
	    {
	        "RemoveModifier"
	        {
	            "ModifierName"  "modifier_melee_defender_regen"
	            "Target"        "CASTER"
	        }
	    }
	
	    "Modifiers"
	    {
	        "modifier_melee_defender_regen"
	        {
	
	            "Passive"           "0"         
	            "IsPurgable"        "0"
	            "IsBuff"            "1"
	            "IsHidden"          "0"            
	
	            "Properties"
	            {               
	                "MODIFIER_PROPERTY_HEALTH_REGEN_PERCENTAGE"   "%percent_regen"               
	            }
	
	            "OnCreated"
	            {
	                "AttachEffect"
	                {
	                    "Target" "CASTER"
	                    "EffectName" "particles/units/heroes/hero_oracle/oracle_purifyingflames.vpcf"
	                    "EffectAttachType" "follow_origin"           
	                }
	            }           
	        }
	
	        "modifier_melee_defender_dmg_check"
	        {
	            "Passive"   "1" 
	            "IsHidden"  "1"
	            //call a function that disables the regen for %cooldown
	            "OnTakeDamage"    
	            {
	                "RunScript"
	                {
	                    "ScriptFile"        "unit_scripts/defenders/defender_melee.lua"
	                    "Function"          "MeleeDefenderDisableRegen"
	
	                    // "%attack_damage" is set to the damage value after mitigation
	                    "Damage"            "%attack_damage"
	
	                    "AbilityContext"
	                    {
	                        "Ability"       "ability_melee_defender_regen"
	                        "Level"         "1"     
	                        "Cooldown"      "%cooldown"
	                    }
	                } 
	            }
	        }
	    }   
	
	    "AbilitySpecial"
	    {       
	        "01"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "cooldown"          "10.0"
	        }    
	
	        "02"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "percent_regen"     "10"
	        }         
	    }   
	} 
	
	"ability_defender_melee_5_fear"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	    "AbilityTextureName"    "skeleton_king_vampiric_aura"
	    
	    "precache"
	    {
	        "particle"  "particles/status_fx/status_effect_ghost.vpcf"    
	        "particle"  "particles/units/heroes/hero_abaddon/abaddon_borrowed_time.vpcf"
	        "particle"  "particles/units/heroes/hero_skeletonking/wraith_king_ghosts_ambient.vpcf"
	        "soundfile" "soundevents/game_sounds_items.vsndevts"        
	    }
	
	    "Modifiers"
	    {
	        //this buff is permanently on skeleton king
	        "modifier_upgrade_melee_barracks_5_apply_debuff"
	        {
	            "Passive"       "1"
	            "IsHidden"      "1"                     
	    
	            "OnAttackLanded"
	            {
	                "ApplyModifier"
	                {
	                    "ModifierName"  "modifier_melee_defender_5_res_chance"
	                    "Target"        "TARGET"
	                    "Duration"      "%hit_duration"
	                }    
	            }
	        }
	
	        //this buff is applied to a creep when hit by skeleton king
	        //if the creep dies with this buff on then chance to res as ghost
	        "modifier_melee_defender_5_res_chance"
	        {
	            "TextureName"   "death_prophet_exorcism"
	            "Passive"   "0"
	            "IsHidden"  "0"
	            
	            "OnDeath"
	            {        
	                "Random"
	                {
	                    "Chance"    "%res_chance"
	                    "OnSuccess"
	                    {
	                        "RunScript"
	                        {
	                            "ScriptFile"    "unit_scripts/defenders/defender_melee.lua"
	                            "Function"      "MeleeDefenderResCreep"
	
	                            "AbilityContext"   
	                            {
	                                "particle"  "particles/units/heroes/hero_abaddon/abaddon_borrowed_time.vpcf"
	                                "sound"     "DOTA_Item.GhostScepter.Activate"                       
	                            }
	                        }
	                    }
	
	                    "OnFailure"
	                    {
	                        
	                    }
	                }                                   
	            } 
	
	            "OnCreated"
	            {
	                "RunScript"
	                {
	                    "ScriptFile"    "unit_scripts/defenders/defender_melee.lua"
	                    "Function"      "MeleeDefenderAttachParticles"
	
	                    "AbilityContext"   
	                    {
	                        "particle"  "particles/units/heroes/hero_skeletonking/wraith_king_ghosts_ambient.vpcf"
	                    }
	                }  
	            }
	                     
	        }
	
	        "modifier_melee_defender_5_ghost"
	        {   
	            "Passive"   "0"
	            "IsHidden"  "0"
	            "IsDebuff"  "1"
	
	            "StatusEffectName"      "particles/status_fx/status_effect_ghost.vpcf"        
	            "StatusEffectPriority"  "10"            
	            "TextureName"           "death_prophet_exorcism"  
	
	            "OnDeath"
	            {
	                "RunScript"
	                {
	                    "ScriptFile"    "unit_scripts/defenders/defender_melee.lua"
	                    "Function"      "MeleeDefenderZombieDeath"
	                }
	            }
	        }
	    }
	
	    "AbilitySpecial"
	    {       
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "hit_duration"     "5"
	        }       
	
	        "02"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "res_chance"       "20"
	        }    
	
	        "03"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "res_duration"      "10"
	        }
	    }    
	}
	"ability_defender_ranged_2_truesight"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	    "AbilityTextureName"            "necronomicon_warrior_sight"
	
	    "OnSpellStart"
	    {
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_truesight"
	            "Target"         "CASTER"            
	        }
	    }
	}
	
	"ability_defender_ranged_3_attackspeed_stacks"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	    "AbilityTextureName"            "drow_ranger_marksmanship"
	
	    "Modifiers"
	    {
	        "modifier_defender_ranged_3"
	        {
	            "Passive"            "1"
	            "IsHidden"           "1"
	            "IsBuff"             "1"       
	    
	            "OnAttackLanded"
	            {
	                "RunScript"
	                {
	                    "ScriptFile"    "unit_scripts/defenders/defender_ranged.lua"
	                    "Function"      "DefenderRangedSpeedStack"
	                    "AbilityContext"
	                    {
	                        "modifier"      "modifier_defender_ranged_3_stack"                         
	                        "max_stacks_modifier"   "modifier_defender_ranged_3_max_stacks"
	                    }
	                    
	                }
	            }
	        }
	
	        "modifier_defender_ranged_3_stack"
	        {
	           "IsBuff"     "1"
	
	           "Properties"
	           {
	               "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%bonus_attack_speed"               
	           }          
	        }
	
	        "modifier_defender_ranged_3_max_stacks"
	        {
	            "IsBuff"    "1"
	            "TextureName"    "phantom_assassin_blur"
	            "Properties"
	            {
	                "MODIFIER_PROPERTY_EVASION_CONSTANT"    "%evasion"                
	            }         
	        }
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "bonus_attack_speed"    "5"
	        }
	
	        //wait this long after landing an attack before the stack starts to decay
	        "02"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "stack_decay_delay"    "5"
	        }   
	
	        //afteer the initial delay lose stacks at this rate
	        "03"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "stack_decay_rate"  "1"
	        }
	
	        "04"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "max_stacks"        "20"
	        }
	
	        "05"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "evasion"           "75"
	        }        
	    }
	}
	
	"ability_defender_ranged_5_dmg_stacks"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	    "AbilityTextureName"            "drow_ranger_trueshot"
	
	    "Modifiers"
	    {
	        "modifier_defender_ranged_5"
	        {
	            "Passive"            "1"
	            "IsHidden"           "1"
	            "IsBuff"             "1"                   
	
	            "OnAttackLanded"
	            // "%attack_damage" is set to the damage value before mitigation
	            {
	                "RunScript"
	                {
	                    "ScriptFile"    "unit_scripts/defenders/defender_ranged.lua"
	                    "Function"      "DefenderRangedDmgStack"
	
	                    "AbilityContext"
	                    {
	                        "modifier"              "modifier_defender_ranged_5_stack"
	                        "max_stacks_modifier"   "modifier_defender_ranged_5_max_stacks"
	                        "max_projectile"        "particles/units/heroes/hero_clinkz/clinkz_searing_arrow.vpcf"
	                        "regular_projectile"    "particles/units/heroes/hero_clinkz/clinkz_base_attack.vpcf"
	                    }
	                }
	            }
	        }  
	
	        "modifier_defender_ranged_5_stack"  
	        {
	            "IsBuff"     "1"
	
	            "Properties"
	            {
	               "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE" "%bonus_dmg"               
	            }  
	        }    
	
	        "modifier_defender_ranged_5_max_stacks"
	        {   
	            "IsBuff"    "1"
	            "TextureName"    "enchantress_impetus"                               
	
	            "OnAttackLanded"
	            // "%attack_damage" is set to the damage value before mitigation
	            {
	                "Damage"
	                {
	                    "Target"        "TARGET"
	                    "Type"          "DAMAGE_TYPE_PURE"
	                    "Damage"        "(%attack_damage * 100) / %cap_bonus_dmg_percent"
	                }
	            }
	
	            "Properties"
	            {
	                "MODIFIER_PROPERTY_ATTACK_RANGE_BONUS" "%cap_range_bonus"                           
	            }
	        }
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "bonus_dmg"         "1"
	        }
	
	        //wait this long after landing an attack before the stack starts to decay
	        "02"
	        {
	            "var_type"              "FIELD_INTEGER"
	            "stack_decay_delay"     "5"
	        }   
	
	        //after the initial delay lose stacks at this rate
	        "03"
	        {   
	            "var_type"          "FIELD_INTEGER"
	            "stack_decay_rate"  "1"
	        }
	
	        "04"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "max_stacks"        "40"            
	        }
	
	        "05"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "cap_range_bonus"       "300"
	        }
	
	        "06"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "cap_bonus_dmg_percent"     "50"
	        }        
	    }
	
	    "precache"
	    {
	        "particle"  "particles/units/heroes/hero_clinkz/clinkz_searing_arrow.vpcf"
	    }
	}
	//single target heal
	"ability_utility_defender_0"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"forest_troll_high_priest_heal"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
	
		"AbilityType" 					"DOTA_ABILITY_TYPE_BASIC"
		"AbilityCastPoint"				"0.3"	
		"AnimationIgnoresModelScale"    "0"
	
		"AbilityManaCost"				"0"
		"AbilityCastRange"				"600"
		"AbilityCooldown"				"3"
	
		"OnSpellStart"
		{
			"FireEffect"
			{
				"EffectName"        "particles/neutral_fx/troll_heal.vpcf"
				"EffectAttachType"  "follow_origin"
				"Target"            "TARGET"
			}
	        "FireSound"
	        {
	            "EffectName"    "n_creep_ForestTrollHighPriest.Heal"
	            "Target"        "CASTER"
	        }	
	
	        "Heal"
	        {
	        	"Target"        "TARGET"
	        	"HealAmount"	"%heal"
	        }
		}	
		
		"AbilitySpecial"
		{		
			"01"
			{
				"var_type"	"FIELD_INTEGER"
				"range"		"600"
			}
			"02"
			{
				"var_type"	"FIELD_INTEGER"
				"heal"		"25"
			}
		}
	
		"precache"
		{
			"particle"  "particles/neutral_fx/troll_heal.vpcf"
			"soundfile"	"soundevents/game_sounds_creeps.vsndevts"
		}
	}
	
	//frost armour buff
	"ability_utility_defender_1"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"lich_frost_armor"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"	
	
		"AbilityType" 					"DOTA_ABILITY_TYPE_BASIC"
		"AbilityCastPoint"				"0.3"	
		"AnimationIgnoresModelScale"    "0"
	
		"AbilityManaCost"				"0"
		"AbilityCastRange"				"600"
		"AbilityCooldown"				"5"
	
		"OnSpellStart"
		{
			"ApplyModifier"
			{
				"ModifierName"	"modifier_utility_defender_frost_armour"
				"Target" 		"TARGET"
				"Duration"		"%armour_duration"
			}
	        "FireSound"
	        {
	            "EffectName"    "sounds/weapons/hero/lich/frost_armor.vsnd"
	            "Target"        "CASTER"
	        }	
		}	
	
		"Modifiers"
		{
			"modifier_utility_defender_frost_armour"
			{
				"Passive"			"0"
				"IsHidden"			"0"
				"IsBuff"			"1"
				"IsPurgable"		"1"
		
				"EffectName"		"particles/units/heroes/hero_lich/lich_frost_armor.vpcf"
				"EffectAttachType"	"follow_overhead"
		
				"Properties"
				{
					"MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%bonus_armour"			    
				}
	
				"OnTakeDamage"
				// "%attack_damage" is set to the damage value after mitigation
				{
					"ApplyModifier"
					{
						"ModifierName"	"modifier_utility_defender_frost_armour_slow"
						"Target" 		"ATTACKER"
						"Duration"		"%slow_duration"
					}
				}
			}
	
			"modifier_utility_defender_frost_armour_slow"
			{
				"Passive"			"0"
				"IsHidden"			"0"
				"IsDebuff"			"1"
				"IsPurgable"		"1"
	
				"StatusEffectName" 		"particles/status_fx/status_effect_frost_armor.vpcf" 	   
				"StatusEffectPriority"  "10"
			
				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%attack_speed_reduction"
				    "MODIFIER_PROPERTY_MOVESPEED_BONUS_CONSTANT" "%movespeed_reduction" 
				}
	
			}
		}
		
		"AbilitySpecial"
		{		
			"01"
			{
				"var_type"	"FIELD_INTEGER"
				"range"		"600"
			}
			"02"
			{
				"var_type"	"FIELD_INTEGER"
				"bonus_armour"		"10"
			}
			"03"
			{
				"var_type"	"FIELD_INTEGER"
				"armour_duration"		"20"
			}
			"04"
			{
				"var_type"	"FIELD_INTEGER"
				"slow_duration"		"5"
			}
			"05"
			{
				"var_type"	"FIELD_INTEGER"
				"attack_speed_reduction"		"-30"
			}
			"06"
			{
				"var_type"	"FIELD_INTEGER"
				"movespeed_reduction"		"-100"	
			}
		}
	
		"precache"
		{
			"particle"  "particles/status_fx/status_effect_frost_armor.vpcf"
			"particle"	"particles/units/heroes/hero_lich/lich_frost_armor.vpcf"
			"soundfile"	"soundevents/game_sounds_creeps.vsndevts"
		}
	}
	
	//provides attack speed, cooldown reduction and outgoing damage increase
	"ability_utility_defender_2"
	{
		"BaseClass"             		"ability_datadriven"
		"AbilityTextureName"			"invoker_alacrity"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"	
	
		"AbilityType" 					"DOTA_ABILITY_TYPE_BASIC"
		"AbilityCastPoint"				"0.3"	
		"AnimationIgnoresModelScale"    "0"
	
		"AbilityManaCost"				"0"
		"AbilityCastRange"				"600"
		"AbilityCooldown"				"10"
	
		"OnSpellStart"
		{
			"ApplyModifier"
			{
				"ModifierName"	"modifier_utility_defender_alacrity"
				"Target" 		"TARGET"
				"Duration"		"%duration"
			}
	        "FireSound"
	        {
	            "EffectName"    "Hero_Invoker.Alacrity"
	            "Target"        "CASTER"
	        }	
		}	
	
		"Modifiers"
		{
			"modifier_utility_defender_alacrity"
			{
				"Passive"			"0"
				"IsHidden"			"0"
				"IsBuff"			"1"
				"IsPurgable"		"1"
		
				"EffectName"			"particles/units/heroes/hero_invoker/invoker_alacrity_buff.vpcf"
				"EffectAttachType"		"follow_overhead"
				"StatusEffectName" 		"particles/status_fx/status_effect_alacrity.vpcf" 	   
				"StatusEffectPriority"  "10"
	
				"AttachEffect"
				{
					"EffectName"        "particles/units/heroes/hero_invoker/invoker_alacrity.vpcf"
					"EffectAttachType"  "follow_origin"
					"Target"            "TARGET"
				}
		
				"Properties"
				{
					"MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%bonus_attack_speed"	
					"MODIFIER_PROPERTY_COOLDOWN_PERCENTAGE" "%cooldown_reduction" 
				    "MODIFIER_PROPERTY_DAMAGEOUTGOING_PERCENTAGE"	"%dmg_increase"		    	
				}		
			}
		}
		
		"AbilitySpecial"
		{		
			"01"
			{
				"var_type"	"FIELD_INTEGER"
				"range"		"600"
			}
			"02"
			{
				"var_type"	"FIELD_INTEGER"
				"attack_speed_reduction"		"50"
			}
			"03"
			{
				"var_type"	"FIELD_INTEGER"
				"cooldown_reduction"		"33"
			}
			"04"
			{
				"var_type"	"FIELD_INTEGER"
				"dmg_increase"		"25"
			}
			"05"
			{
				"var_type"	"FIELD_INTEGER"
				"duration"		"25"
			}
		}
	
		"precache"
		{
			"particle"  "particles/units/heroes/hero_invoker/invoker_alacrity_buff.vpcf"
			"particle"	"particles/units/heroes/hero_invoker/invoker_alacrity.vpcf"		
			"particle"  "particles/status_fx/status_effect_alacrity.vpcf"
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_invoker.vsndevts"
		}
	}
	//-------------------
	// Dummy stuff
	//-------------------
	
	"dummy_unit"
	{
	    "AbilityBehavior"     "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	    "BaseClass"           "ability_datadriven"
	    "AbilityTextureName"            "rubick_empty1"
	    "MaxLevel"                      "1"
	    
	    "Modifiers"
	    {
	      "dummy_unit"
	      {
	          "Passive"                        "1"
	          "IsHidden"                        "1"    
	          "States"
	          {
	              "MODIFIER_STATE_UNSELECTABLE" "MODIFIER_STATE_VALUE_ENABLED"
	              "MODIFIER_STATE_INVULNERABLE"    "MODIFIER_STATE_VALUE_ENABLED"
	              "MODIFIER_STATE_NOT_ON_MINIMAP" "MODIFIER_STATE_VALUE_ENABLED"
	              "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
	          }
	      }
	  }
	}
	"hero_immunity"
	{
		"BaseClass"             	"ability_datadriven"
		"MaxLevel" 					"1"
		"AbilityTextureName"		"neutral_spell_immunity"
		"AbilityBehavior"			"DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
		
		"Modifiers"
		{
			"modifier_tower_immunity"
			{
				"Passive"			"1"
				"IsHidden"			"0"
				"Attributes"		"MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE | MODIFIER_ATTRIBUTE_PERMANENT"	
				"States"
				{
					"MODIFIER_STATE_MAGIC_IMMUNE" 			"MODIFIER_STATE_VALUE_ENABLED" 
					"MODIFIER_STATE_ATTACK_IMMUNE"			"MODIFIER_STATE_VALUE_ENABLED"			
					"MODIFIER_STATE_NO_HEALTH_BAR"			"MODIFIER_STATE_VALUE_ENABLED"
				}			
			}
		}		
	}
	"tower_immunity"
	{
		"BaseClass"             	"ability_datadriven"
		"MaxLevel" 					"1"
		"AbilityTextureName"		"neutral_spell_immunity"
		"AbilityBehavior"			"DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
		
		"Modifiers"
		{
			"modifier_tower_immunity"
			{
				"Passive"			"1"
				"IsHidden"			"0"
				"Attributes"		"MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE | MODIFIER_ATTRIBUTE_PERMANENT"	
				"States"
				{
					"MODIFIER_STATE_MAGIC_IMMUNE" 			"MODIFIER_STATE_VALUE_ENABLED" 
					"MODIFIER_STATE_ATTACK_IMMUNE"			"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_ROOTED"					"MODIFIER_STATE_VALUE_ENABLED" 				
					"MODIFIER_STATE_NO_HEALTH_BAR"			"MODIFIER_STATE_VALUE_ENABLED"
				}
				"Properties"
				{				
					"MODIFIER_PROPERTY_MOVESPEED_ABSOLUTE"	"0.1"
				}
			}
		}		
	}
	
	"ability_cant_turn"
	{
		"BaseClass"             		"ability_datadriven"	
		"MaxLevel" 						"1"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	
		"Modifiers"
		{
			"modifier_name"
			{
				"Passive"			"1"
				"IsHidden"			"1"		
				"Attributes"		"MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE | MODIFIER_ATTRIBUTE_PERMANENT"	
	
				"Properties"
				{
					"MODIFIER_PROPERTY_DISABLE_TURNING"	"1"
				}	
			}
		}
	}
	
	"ability_unselectable"
	{
		"BaseClass"            	"ability_datadriven"
		"MaxLevel" 				"1"
		"AbilityBehavior"		"DOTA_ABILITY_BEHAVIOR_PASSIVE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	
		"Modifiers"
		{
			"modifier_unselectable"
			{
				"Passive" 		"1"
				"IsHidden"		"1"
				"Attributes"	"MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE | MODIFIER_ATTRIBUTE_PERMANENT"	
	
				"States"
				{
					"MODIFIER_STATE_UNSELECTABLE"		"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	"ability_catapult_aoe_damage"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	    "AbilityTextureName"            "brewmaster_earth_hurl_boulder"  
	
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"
	    "AbilityUnitTargetType"         "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	    "AbilityUnitDamageType"         "DAMAGE_TYPE_PHYSICAL"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"
	
	    "Modifiers"
	    {
	        "modifier_catapult_aoe_damage"
	        {
	            "Passive"           "1"
	            "IsHidden"          "0"
	            "IsBuff"            "1"
	    
	            "OnAttackLanded"
	            {
	
	                "FireEffect"
	                {
	                    "EffectName"        "particles/units/heroes/hero_techies/techies_bomb_ground_debris.vpcf"
	                    "EffectAttachType"  "follow_origin"
	                    "Target"
	                    {
	                        "Center"    "TARGET"
	                        "Radius"    "%aoe_radius"                        
	                        "Teams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
	                        "Types"     "DOTA_UNIT_TARGET_ALL" 
	                    }
	                }
	    
	                "Damage"
	                {
	                    "Target"
	                    {
	                        "Center"    "TARGET"
	                        "Radius"    "%aoe_radius"                        
	                        "Teams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
	                        "Types"     "DOTA_UNIT_TARGET_ALL" 
	                    }
	
	                    "Type"      "DAMAGE_TYPE_PHYSICAL"
	                    "Damage"    "%aoe_damage"
	                }
	            }
	        } 
	
	        "modifier_catapult_death"
	        {
	            "Passive"   "1"
	            "IsHidden"  "1"
	
	            "OnDeath"
	            {
	                "RunScript"
	                {
	                    "ScriptFile"    "unit_scripts/towers/ai_catapult.lua"
	                    "Function"        "OnDeath"                    
	                    
	                    "AbilityContext"
	                    {
	                        "particle"  "particles/siege_fx/siege_good_death_01.vpcf"
	                    }
	                }
	            }
	        }          
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "aoe_radius"    "300 400"
	        }
	        "02"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "aoe_damage"    "10"
	        }
	        "03"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "bonus_attack_speed"    "100"
	        }
	        "04"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "bonus_range"    "450"
	        }
	    }
	
	    "precache"
	    {
	        "particle"  "particles/units/heroes/hero_techies/techies_bomb_ground_debris.vpcf"
	    }
	}
	
	"ability_catapult_stun"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	    "AbilityTextureName"            "tiny_toss"
	
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"
	    "AbilityUnitTargetType"         "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	    "AbilityUnitDamageType"         "DAMAGE_TYPE_PHYSICAL"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"
	
	    "precache"
	    {
	        "particle"  "particles/units/heroes/hero_techies/techies_bomb_ground_debris.vpcf"
	        "soundfile" "sounds/weapons/hero/gyrocopter/homing_missile_target.vsnd" 
	    }
	
	    "Modifiers"
	    {
	        "modifier_catapult_stun"
	        {
	            "Passive"       "1"
	            "IsHidden"      "1"
	
	            "OnAttackLanded"
	            {
	
	                "FireEffect"
	                {
	                    "EffectName"        "particles/units/heroes/hero_techies/techies_bomb_ground_debris.vpcf"
	                    "EffectAttachType"  "follow_origin"
	                    "Target"
	                    {
	                        "Center"    "TARGET"
	                        "Radius"    "%aoe_radius"                        
	                        "Teams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
	                        "Types"     "DOTA_UNIT_TARGET_ALL" 
	                    }
	                }
	
	                "FireSound"
	                {
	                    "EffectName"    "Hero_Gyrocopter.HomingMissile.Target"  
	                    "Target"        "TARGET"
	                }
	
	                "Damage"
	                {
	                    "Target"
	                    {
	                        "Center"    "TARGET"
	                        "Radius"    "%aoe_radius"                        
	                        "Teams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
	                        "Types"     "DOTA_UNIT_TARGET_ALL" 
	                    }
	
	                    "Type"      "DAMAGE_TYPE_PHYSICAL"
	                    "Damage"    "%aoe_damage"
	                }
	
	                "Stun"
	                {
	                    "Target"
	                    {
	                        "Center"    "TARGET"
	                        "Radius"    "%aoe_radius"                        
	                        "Teams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
	                        "Types"     "DOTA_UNIT_TARGET_ALL" 
	                    }
	
	                    "Duration"      "%stun_duration"
	                }                
	            }            
	        }
	
	        "modifier_catapult_death"
	        {
	            "Passive"   "1"
	            "IsHidden"  "1"
	
	            "OnDeath"
	            {
	                "RunScript"
	                {
	                    "ScriptFile"    "unit_scripts/towers/ai_catapult.lua"
	                    "Function"        "OnDeath"                    
	                    
	                    "AbilityContext"
	                    {
	                        "particle"  "particles/siege_fx/siege_good_death_01.vpcf"
	                    }
	                }
	            }
	        } 
	    }   
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "aoe_radius"        "200"
	        }
	        
	        "02"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "stun_duration"     "1.5"
	        }
	
	        "03"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "aoe_damage"        "25"
	        }
	    }
	}
	
	
	"ability_catapult_nuke"
	{
	
	    "BaseClass"                     "ability_datadriven"    
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	    "AbilityTextureName"            "lina_light_strike_array"
	
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"
	    "AbilityUnitTargetType"         "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	    "AbilityUnitDamageType"         "DAMAGE_TYPE_PHYSICAL"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"
	
	    "precache"
	    {
	        "particle"  "particles/units/heroes/hero_warlock/warlock_rain_of_chaos.vpcf"
	        "particle"  "particles/units/heroes/hero_lina/lina_spell_light_strike_array_explosion.vpcf"
	        "particle"  "particles/units/heroes/hero_phoenix/phoenix_fire_spirit_ground.vpcf"        
	        "soundfile" "sounds/weapons/hero/gyrocopter/homing_missile_destroy.vsnd"        
	    }      
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"              "FIELD_INTEGER"
	            "aoe_radius"            "300"
	        }
	        
	        "02"
	        {
	            "var_type"              "FIELD_INTEGER"
	            "aoe_damage"            "50"
	        }
	
	        "03"
	        {
	            "var_type"              "FIELD_INTEGER"
	            "knockback_distance"    "500"
	        }
	
	        "04"
	        {
	            "var_type"              "FIELD_INTEGER"
	            "air_time"              "3"
	        }
	    }
	
	    "Modifiers"
	    {        
	        "modifier_catapult_death"
	        {
	            "Passive"   "1"
	            "IsHidden"  "1"
	
	            "OnDeath"
	            {
	                "RunScript"
	                {
	                    "ScriptFile"    "unit_scripts/towers/ai_catapult.lua"
	                    "Function"        "OnDeath"                    
	                    
	                    "AbilityContext"
	                    {
	                        "particle"  "particles/siege_fx/siege_good_death_01.vpcf"
	                    }
	                }
	            }
	        } 
	
	        "modifier_catapult_nuke"
	        {
	            "Passive"            "1"
	            "IsHidden"           "1"
	
	            "OnAttackLanded"
	            // "%attack_damage" is set to the damage value before mitigation
	            {   
	                "FireSound"
	                {
	                    "EffectName"    "Hero_Gyrocopter.HomingMissile.Destroy"                   
	                    "Target"        "TARGET"
	                }
	
	                "FireEffect"
	                {
	                    "EffectName"        "particles/units/heroes/hero_warlock/warlock_rain_of_chaos.vpcf"                    
	                    "EffectAttachType"  "follow_origin"
	                    "Target"            "TARGET"
	                }
	
	                "FireEffect"
	                {
	                    "EffectName"        "particles/units/heroes/hero_lina/lina_spell_light_strike_array_explosion.vpcf"                    
	                    "EffectAttachType"  "follow_origin"
	                    "Target"            "TARGET"
	                }
	                "FireEffect"
	                {
	                    "EffectName"        "particles/units/heroes/hero_phoenix/phoenix_fire_spirit_ground.vpcf"
	                    "EffectAttachType"  "follow_origin"
	                    "Target"            "TARGET"
	                }                
	
	                "Knockback"
	                {
	                    "Target"            
	                    {
	                        "Center"    "TARGET"
	                        "Radius"    "%aoe_radius"                        
	                        "Teams"  "DOTA_UNIT_TARGET_TEAM_ENEMY"                      
	                        "Types"  "DOTA_UNIT_TARGET_ALL"                       
	
	                    }
	
	                    "Center"            "TARGET"
	                    "Distance"          "%knockback_distance"
	                    "Duration"          "%air_time"
	                    "Height"            "500"
	                    "IsFixedDistance"   "1"
	                    "ShouldStun"        "1"    
	                }
	
	                "Damage"
	                {
	                    "Target"
	                    {
	                        "Center"    "TARGET"
	                        "Radius"    "%aoe_radius"
	                        "Teams"  "DOTA_UNIT_TARGET_TEAM_ENEMY"
	                        "Types"  "DOTA_UNIT_TARGET_ALL"                       
	
	                    }
	
	                    "Type"      "DAMAGE_TYPE_PHYSICAL"
	                    "Damage"    "%aoe_damage"
	                }
	            }         
	        }
	    }
	}
	
	//larger AoE
	"ability_upgrade_catapult_1"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "rattletrap_battery_assault"
	
	    "AbilityGoldCost"               "50"
	
	    "OnSpellStart"
	    {
	        "ApplyModifier"
	        {
	            "ModifierName"          "modifier_upgrade_catapult_1"
	            "Target"                "CASTER"            
	        }
	
	        "LevelUpAbility"
	        {
	            "Target"                "CASTER"
	            "AbilityName"           "ability_catapult_aoe_damage"
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"            "scripts/vscripts/addon_game_mode.lua"
	            "Function"              "upgradeTower"
	
	            "AbilityContext"
	            {
	                "nextUpgrade"       "ability_upgrade_catapult_2"
	            }
	        }             
	    }
	
	    "Modifiers"
	    {
	        //cosmetic - lets the user know the tower has been upgraded
	        "modifier_upgrade_catapult_1"
	        {
	            "Passive"           "0"         
	            "IsPurgable"        "0"
	            "IsBuff"            "1"
	        }               
	    } 
	}
	
	//upgrades range and firing speed
	"ability_upgrade_catapult_2"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "phoenix_launch_fire_spirit"
	
	    "AbilityGoldCost"               "50"
	
	    "OnSpellStart"
	    {
	        "ApplyModifier"
	        {
	            "ModifierName"          "modifier_upgrade_catapult_2"
	            "Target"                "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"            "scripts/vscripts/addon_game_mode.lua"
	            "Function"              "upgradeTower"
	
	            "AbilityContext"
	            {
	                "nextUpgrade"       "ability_upgrade_catapult_3"
	                "splitUpgrade"      "ability_upgrade_catapult_4"
	            }
	        }             
	    }
	
	    "Modifiers"
	    {        
	        "modifier_upgrade_catapult_2"  
	        {
	            "Passive"           "0"
	            "IsHidden"          "0"
	            "IsBuff"            "1"
	            
	            "Properties"
	            {
	                "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT"  "%bonus_attack_speed"
	                "MODIFIER_PROPERTY_ATTACK_RANGE_BONUS"          "%bonus_range" 
	            }
	        }              
	    } 
	
	    "AbilitySpecial"
	    {   
	        "01"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "bonus_attack_speed"    "50"
	        }
	        "02"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "bonus_range"    "450"
	        }
	    }
	}
	
	//AoE stun
	"ability_upgrade_catapult_4"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "tiny_toss"
	
	    "AbilityGoldCost"               "50"
	
	    "OnSpellStart"
	    {
	        "ApplyModifier"
	        {
	            "ModifierName"          "modifier_upgrade_catapult_4"
	            "Target"                "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/ai_catapult.lua"
	            "Function"      "CatapultRemoveAbility"
	            "AbilityContext"
	            {
	                "remove_ability"    "ability_catapult_aoe_damage"
	                "remove_modifier"   "modifier_catapult_aoe_damage"
	            }
	        }
	
	        "AddAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_catapult_stun"
	        }
	
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_catapult_stun"
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"            "scripts/vscripts/addon_game_mode.lua"
	            "Function"              "upgradeTower"
	
	            "AbilityContext"
	            {
	                "nextUpgrade"       "ability_upgrade_catapult_6"
	            }
	        }             
	    }
	
	    "Modifiers"
	    {
	        //cosmetic - lets the user know the tower has been upgraded
	        "modifier_upgrade_catapult_4"
	        {
	            "Passive"           "0"         
	            "IsPurgable"        "0"
	            "IsBuff"            "1"
	        }               
	    } 
	}
	
	//AoE knockback
	"ability_upgrade_catapult_6"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "lina_light_strike_array"
	
	    "AbilityGoldCost"               "50"
	
	    "OnSpellStart"
	    {
	        "ApplyModifier"
	        {
	            "ModifierName"          "modifier_upgrade_catapult_6"
	            "Target"                "CASTER"            
	        }    
	
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/ai_catapult.lua"
	            "Function"      "CatapultRemoveAbility"
	            "AbilityContext"
	            {
	                "remove_ability"    "ability_catapult_stun"
	                "remove_modifier"   "modifier_catapult_stun"
	            }
	        }
	
	        "AddAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_catapult_nuke"
	        }
	
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_catapult_nuke"
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"            "scripts/vscripts/addon_game_mode.lua"
	            "Function"              "upgradeTower"
	
	            "AbilityContext"
	            {
	                "nextUpgrade"       ""
	            }
	        }             
	    }
	
	    "Modifiers"
	    {
	        //cosmetic - lets the user know the tower has been upgraded
	        "modifier_upgrade_catapult_6"
	        {
	            "Passive"           "0"         
	            "IsPurgable"        "0"
	            "IsBuff"            "1"
	        }               
	    } 
	
	    "precache"
	    {
	        "particle"  "particles/units/heroes/hero_rattletrap/rattletrap_rocket_flare.vpcf"        
	    }
	}
	//slow moving missile that damages things multiple times
	"ability_demon_tower_attack"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
	    "AbilityUnitTargetType"         "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "mirana_arrow"
	
	    "AbilityCooldown"               "3"
	    "AbilityManaCost"               "0"
	    "AbilityDamage"                 "%damage" 
	    "AbilityCastRange"              "%targeting_range"
	    "AbilityCastAnimation"          "ACT_DOTA_CAST_ABILITY_1 "    
	
	    "OnSpellStart"
	    {        
	        "RunScript"
	        {
	            "ScriptFile"            "unit_scripts/towers/ai_demon.lua"
	            "Function"              "DemonAttack"       
	            "AbilityContext"     
	            {
	                "particle"      "particles/econ/items/mirana/mirana_crescent_arrow/mirana_spell_crescent_arrow.vpcf"               
	            }
	        }
	    }
	
	    "Modifiers"
	    {
	        "modifier_demon_low_bounce_priority"
	        {
	            "Passive"           "0"
	            "IsHidden"          "1"
	            "IsDebuff"          "1"    
	        }
	    }
	
	    "OnProjectileHitUnit"
	    {
	        "DeleteOnHit"    "0"
	        "Damage"
	        {
	            "Target"        "TARGET"
	            "Type"          "DAMAGE_TYPE_PHYSICAL"
	            "Damage"        "%damage"
	        }
	
	        "ApplyModifier"
	        {
	            "ModifierName"   "modifier_demon_low_bounce_priority"
	            "Target"         "TARGET"
	            "Duration"       "%ability_cooldown"
	        }
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/ai_demon.lua"
	            "Function"      "DemonOnBounce"
	        }
	    }  
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "speed"             "750 750 1200"
	        }
	        "02"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "range"             "1800"
	        }
	        "03"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "targeting_range"   "900"
	        }
	        "04"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "width"             "75"
	        }
	        "05"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "damage"            "10 10 20"
	        }
	        //Number of pierce targets    
	        "06"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "pierce"            "2 4 4"
	        }
	        "07"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "ability_cooldown"  "3"
	        }
	    }
	
	    "precache"
	    {
	        "particle"  "particles/econ/items/mirana/mirana_crescent_arrow/mirana_spell_crescent_arrow.vpcf"        
	        "particle"  "particles/econ/items/bounty_hunter/bounty_hunter_shuriken_creeper/bounty_hunter_suriken_toss_creepers_cruel.vpcf"
	    }
	}
	
	//upgrade projectile speed and damage
	"ability_upgrade_demon_tower_1"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"    "demon_upgrade_1_icon"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {          
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_demon_tower_attack"
	        }
	
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_demon_tower_1"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_demon_tower_2"  
	            }
	        }   
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_demon_tower_1"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	
	//upgrade number of pierce targets
	"ability_upgrade_demon_tower_2"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"    "phoenix_sun_ray_toggle_move"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {          
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_demon_tower_attack"
	        }
	
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_demon_tower_2"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_demon_tower_3"      
	                "splitUpgrade"  "ability_upgrade_demon_tower_4"                        
	            }
	        }   
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_demon_tower_2"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	
	//shoots 2 spears instead of 1
	"ability_upgrade_demon_tower_3"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"    "demon_upgrade_2_icon"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {         
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_demon_tower_3"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_demon_tower_5"                             
	            }
	        }   
	
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/ai_demon.lua"
	            "Function"      "DemonUpgradeSpearCount"
	            "SpearCount"    "2"            
	        }
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_demon_tower_3"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	
	//change to tracking projectile and upgrade number of pierce targets ("bounces")
	"ability_upgrade_demon_tower_4"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"    "bounty_hunter_shuriken_toss"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {          
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/ai_demon.lua"
	            "Function"      "DemonUpgradeBounce"
	        }
	
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_demon_tower_4"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_demon_tower_6"                
	            }
	        }   
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_demon_tower_4"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	
	//shoots 5 spears instead of 2
	"ability_upgrade_demon_tower_5"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"    "medusa_split_shot"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {         
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_demon_tower_5"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	            "AbilityContext"
	            {
	                "nextUpgrade"   ""                             
	            }
	        }   
	
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/ai_demon.lua"
	            "Function"      "DemonUpgradeSpearCount"
	            "SpearCount"    "5"            
	        }
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_demon_tower_5"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	"ability_dragonfire"
	{
	    "BaseClass"                 "ability_datadriven"
	    "AbilityTextureName"        "lina_dragon_slave_alt1"
	    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_POINT"
	    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
	    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"     
	
	    "AbilityCastRange"          "800 1500 1500"
	    "AbilityCastPoint"          "0"
	    "AbilityCooldown"           "5"
	
	    "AbilityDamage"             "%damage"
	    "AbilityManaCost"           "0"
	
	    "OnSpellStart"
	    {      
	        "FireSound"
	        {
	            "EffectName"    "Hero_Lina.DragonSlave"
	            "Target"        "CASTER"
	        }
	
	        "LinearProjectile"
	        {
	            "Target"            "POINT"
	            "EffectName"        "particles/units/heroes/hero_lina/lina_spell_dragon_slave.vpcf"            
	            "MoveSpeed"         "%projectile_speed"
	            "StartPosition"     "attach_origin"
	            "StartRadius"       "%width_start"
	            "EndRadius"         "%width_end"
	            "FixedDistance"     "%cast_range"
	            "FixedDistance"     "%dragon_slave_distance"
	            "TargetTeams"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
	            "TargetTypes"       "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
	            "TargetFlags"       "DOTA_UNIT_TARGET_FLAG_NONE"
	            "HasFrontalCone"    "1"
	            "ProvidesVision"    "0"
	        }
	    }
	
	    "OnProjectileHitUnit"
	    {
	        "DeleteOnHit"   "0"     
	
	        "Damage"
	        {
	            "Type"      "DAMAGE_TYPE_MAGICAL"
	            "Damage"    "%damage"
	            "Target"    "TARGET"
	        }
	
	        "ApplyModifier"
	        {
	            "ModifierName"  "modifier_dragonfire_burn"
	            "Target"        "TARGET"
	            "Duration"      "%burn_duration"
	        }      
	    }
	
	    "Modifiers"
	    {
	        "modifier_dragonfire_burn"
	        {
	            "Passive"           "0"
	            "IsDebuff"          "1"
	            "Duration"          "%burn_duration"
	            "EffectName"        "particles/units/heroes/hero_phoenix/phoenix_fire_spirit_burn_creep.vpcf"
	            "EffectAttachType"  "follow_origin"
	            "StatusEffectName"  "particles/status_fx/status_effect_burn.vpcf"
	            "StatusEffectPriority"  "10"
	            "TextureName"       "Demon_Eater_Shadowraze3_icon"
	
	            "ThinkInterval"     "%burn_tick"
	            "OnIntervalThink"
	            {   
	                "RunScript"
	                {
	                    "ScriptFile"    "unit_scripts/towers/ai_dragon.lua"
	                    "Function"      "DragonBurnTick"
	
	                    "AbilityContext"
	                    {
	                        "currentHpPercentDmg"   "%burn_percent_dmg * %burn_tick / %burn_duration"
	                    }
	                }
	            }
	        }
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "cast_range"        "1200"
	        }
	        "02"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "cooldown"          "5"
	        }
	        "03"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "damage"            "25 50 50"
	        }
	        "04"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "projectile_speed"  "1200"
	        }
	        "05"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "width_start"       "250 400 400"
	        }
	        "06"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "width_end"         "250 400 400"
	        }
	        "07"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "burn_duration"     "0 0 4"
	        }
	        "08"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "burn_percent_dmg"  "0 0 0.15"
	        }
	        "09"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "burn_tick"         "0 0 0.1"
	        }
	    }
	
	    "precache"
	    {
	        "soundfile"             "soundevents/game_sounds_heroes/game_sounds_lina.vsndevts"
	        "particle"              "particles/units/heroes/hero_lina/lina_spell_dragon_slave.vpcf"
	        "particle"              "particles/units/heroes/hero_phoenix/phoenix_icarus_dive_burn_debuff.vpcf"
	        "particle"              "particles/status_fx/status_effect_burn.vpcf"      
	    }
	}
	
	//replaces the dragonfire ability when upgrade 3/5 are purchased
	//level 1 still applies the burn, and applies a debuff that increases creeps bounty on death
	//level 2 no longer does damage on the burn, but applies a debuff that grants the user money
	//for each tick the debuff is on
	"ability_golden_dragonfire"
	{
	    "BaseClass"                 "ability_datadriven"
	    "AbilityTextureName"        "golden_fire_icon"
	    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_POINT"
	    "AbilityUnitTargetTeam"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
	    "AbilityUnitTargetType"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL"     
	
	    "AbilityCastRange"          "1500"
	    "AbilityCastPoint"          "0"
	    "AbilityCooldown"           "5"
	
	    "AbilityDamage"             "60"
	    "AbilityManaCost"           "0"
	
	    "OnSpellStart"
	    {      
	        "FireSound"
	        {
	            "EffectName"    "Hero_Lina.DragonSlave"
	            "Target"        "CASTER"
	        }        
	
	        "LinearProjectile"
	        {
	            "Target"            "POINT"
	            "EffectName"        "particles/golden_dragonfire/lina_spell_dragon_slave.vpcf"
	            "MoveSpeed"         "%projectile_speed"
	            "StartPosition"     "attach_origin"
	            "StartRadius"       "%width_start"
	            "EndRadius"         "%width_end"
	            "FixedDistance"     "%cast_range"
	            "FixedDistance"     "%dragon_slave_distance"
	            "TargetTeams"       "DOTA_UNIT_TARGET_TEAM_ENEMY"
	            "TargetTypes"       "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
	            "TargetFlags"       "DOTA_UNIT_TARGET_FLAG_NONE"
	            "HasFrontalCone"    "1"
	            "ProvidesVision"    "0"
	        }
	
	        "FireEffect"
	        {
	            "EffectName"        "particles/econ/items/undying/undying_manyone/undying_pale_gold_tombstone_ambient.vpcf"       
	            "EffectAttachType"  "follow_origin"
	            "Target"            "CASTER"
	        }
	    }
	
	    "OnProjectileHitUnit"
	    {
	        "DeleteOnHit"   "0"     
	
	        "Damage"
	        {
	            "Type"      "DAMAGE_TYPE_MAGICAL"
	            "Damage"    "%damage"
	            "Target"    "TARGET"
	        }
	
	        "ApplyModifier"
	        {
	            "ModifierName"  "modifier_dragonfire_burn"
	            "Target"        "TARGET"
	            "Duration"      "%burn_duration"
	        }      
	
	        "ApplyModifier"
	        {
	            "ModifierName"  "modifier_golden_dragonfire"
	            "Target"        "TARGET"
	            "Duration"      "%ondeath_duration"
	        }        
	
	        "ApplyModifier"
	        {
	            "ModifierName"  "modifier_gold_burn"
	            "Target"        "TARGET"
	            "Duration"      "%gold_burn_duration"
	        }
	    }    
	
	    "Modifiers"
	    {
	        "modifier_dragonfire_burn"
	        {
	            "Passive"           "0"
	            "IsDebuff"          "1"          
	            
	            "TextureName"       "Demon_Eater_Shadowraze3_icon"
	
	            "ThinkInterval"     "%burn_tick"
	            "OnIntervalThink"
	            {   
	                "RunScript"
	                {
	                    "ScriptFile"    "unit_scripts/towers/ai_dragon.lua"
	                    "Function"      "DragonBurnTick"
	
	                    "AbilityContext"
	                    {
	                        "currentHpPercentDmg"   "%burn_percent_dmg * %burn_tick / %burn_duration"
	                    }
	                }
	            }
	        }
	
	        "modifier_golden_dragonfire"
	        {
	            "Passive"   "0"
	            "IsDebuff"  "1"
	
	            "EffectName"            "particles/golden_dragonfire/debuff/rubick_force_ambient_gold.vpcf"
	            "EffectAttachType"      "follow_overhead"
	            "StatusEffectName"      "particles/econ/items/effigies/status_fx_effigies/status_effect_effigy_gold.vpcf"
	            "StatusEffectPriority"  "10"
	
	            "TextureName"       "golden_dragonfire_death_icon"
	            
	            "OnCreated"
	            {
	                "RunScript"
	                {
	                    "ScriptFile"    "unit_scripts/towers/ai_dragon.lua"
	                    "Function"      "DragonIncreaseBounty"                    
	                }
	            }
	
	            "OnDestroy"
	            {
	                "RunScript"
	                {
	                    "ScriptFile"    "unit_scripts/towers/ai_dragon.lua"
	                    "Function"      "DragonResetBounty"                    
	                }
	            }
	
	            "OnDeath"
	            {
	                "RunScript"
	                {
	                    "ScriptFile"    "unit_scripts/towers/ai_dragon.lua"
	                    "Function"        "DragonApplyCoinsParticle"
	                }
	            }
	        }
	
	        "modifier_gold_burn"
	        {
	            "Passive"   "0"
	            "IsDebuff"  "1"
	            "ThinkInterval"  "%gold_tick"
	            "OnIntervalThink"
	            {
	                "RunScript"
	                {
	                    "ScriptFile"    "unit_scripts/towers/ai_dragon.lua"
	                    "Function"      "DragonGoldBurn"
	                }
	            }
	        }
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "cast_range"        "1200"
	        }
	        "02"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "cooldown"          "5"
	        }
	        "03"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "damage"            "25"
	        }
	        "04"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "projectile_speed"  "1200"
	        }
	        "05"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "width_start"       "400"
	        }
	        "06"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "width_end"         "400"
	        }      
	        //0 at level 2 as the burn damage is removed  
	        "07"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "burn_duration"     "4 0"
	        }        
	        "08"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "burn_percent_dmg"  "0.15 0"
	        }
	        "09"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "burn_tick"         "0.1"
	        }
	        "10"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "gold_multiplier"   "1.5"
	        }
	        "11"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "gold_tick"         "0.5"
	        }
	
	        //0 at level 1 so is not applied
	        "12"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "gold_burn_duration"    "0 4"
	        }   
	        "13"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "gold_per_tick"         "1"
	        }   
	        "14"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "ondeath_duration"         "4"
	        }        
	    }
	
	    "precache"
	    {
	        "particle"          "particles/econ/items/effigies/status_fx_effigies/status_effect_effigy_gold.vpcf"
	        "soundfile"         "soundevents/game_sounds_heroes/game_sounds_lina.vsndevts"
	        "particle"          "particles/golden_dragonfire/lina_spell_dragon_slave.vpcf"       
	        "particle"          "particles/golden_dragonfire/debuff/rubick_force_ambient_gold.vpcf" 
	        "particle"          "particles/units/heroes/hero_phoenix/phoenix_fire_spirit_burn_creep.vpcf"
	        "particle"          "particles/econ/items/alchemist/alchemist_midas_knuckles/alch_knuckles_lasthit_coins.vpcf"
	        "particle"          "particles/econ/items/undying/undying_manyone/undying_pale_gold_tombstone_ambient.vpcf"               
	    }
	}
	
	
	//increase the damage and travel distance of the projectile and make it wider
	"ability_upgrade_dragon_1"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "jakiro_macropyre"
	
	    "AbilityGoldCost"       "50"
	   
	    "OnSpellStart"
	    {
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_dragonfire"
	        }      
	
	        "ApplyModifier"
	        {
	            "ModifierName"  "modifier_dragon_upgrade_1"
	            "Target"        "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_dragon_2"                
	            }
	        }       
	    }
	
	    "Modifiers"
	    {
	        //cosmetic only - appears on the tower to let players know it has been upgraded
	        "modifier_dragon_upgrade_1"
	        {
	            "Passive"       "0"
	            "IsHidden"      "0"
	            "IsDebuff"      "0"             
	        }
	    }
	}
	
	
	//adds burn to the dragonfire ability, dealing currentHp% damage
	"ability_upgrade_dragon_2"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "Demon_Eater_Shadowraze3_icon"
	
	    "AbilityGoldCost"       "50"
	   
	    "OnSpellStart"
	    {
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_dragonfire"
	        }      
	
	        "ApplyModifier"
	        {
	            "ModifierName"  "modifier_dragon_upgrade_2"
	            "Target"        "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_dragon_3"
	                "splitUpgrade"  "ability_upgrade_dragon_4"
	            }
	        }
	    }
	
	    "Modifiers"
	    {
	        //cosmetic only - appears on the tower to let players know it has been upgraded
	        "modifier_dragon_upgrade_2"
	        {
	            "Passive"       "0"
	            "IsHidden"      "0"
	            "IsDebuff"      "0"             
	        }
	    }
	}
	
	//puts a golden debuff on a creep, if it dies while under this effect drop extra gold
	"ability_upgrade_dragon_3"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "golden_dragonfire_death_icon"
	
	    "AbilityGoldCost"       "50"
	   
	    "OnSpellStart"
	    {
	        "ApplyModifier"
	        {
	            "ModifierName"  "modifier_dragon_upgrade_3"
	            "Target"        "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_dragon_5"                
	            }
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/ai_dragon.lua"
	            "Function"      "DragonActivateGold"         
	            "AbilityContext"
	            {
	                "model"     "models/props_structures/statue_dragon001.vmdl"
	            }  
	        }
	    }
	
	    "Modifiers"
	    {
	        //cosmetic only - appears on the tower to let players know it has been upgraded
	        "modifier_dragon_upgrade_3"
	        {
	            "Passive"       "0"
	            "IsHidden"      "0"
	            "IsDebuff"      "0"             
	        }
	    }
	
	    "precache"
	    {
	        "model" "models/props_structures/statue_dragon001.vmdl"       
	    }
	}
	
	//replace damage with money persecond
	"ability_upgrade_dragon_5"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "golden_claws_icon"
	
	    "AbilityGoldCost"       "50"
	   
	    "OnSpellStart"
	    {
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_golden_dragonfire"
	        }
	
	        "ApplyModifier"
	        {
	            "ModifierName"  "modifier_dragon_upgrade_5"
	            "Target"        "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   ""                
	            }
	        }  
	    }
	
	    "Modifiers"
	    {
	        //cosmetic only - appears on the tower to let players know it has been upgraded
	        "modifier_dragon_upgrade_5"
	        {
	            "Passive"       "0"
	            "IsHidden"      "0"
	            "IsDebuff"      "0"                         
	        }
	    }
	}
	"ability_iceberg_aoe_slow"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "lich_frost_nova"
	
	    "AbilityCooldown"                "5 5 3"
	    "AbilityManaCost"                "0"
	    "AbilityDamage"                  "%damage" 
	
	    "MaxLevel"                       "3"   
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"   "FIELD_INTEGER"
	            "slow"       "-25 -25 -50"
	        }
	        "02"
	        {
	            "var_type"    "FIELD_INTEGER"
	            "radius"      "500 800 800"
	        }      
	        "03"
	        {
	            "var_type"    "FIELD_INTEGER"
	            "damage"      "0"
	        }  
	        "04"
	        {
	            "var_type"    "FIELD_FLOAT"
	            "duration"    "2 3 3"
	        }  
	
	    }
	
	    "OnSpellStart"
	    {     
	
	        "FireEffect"
	        {
	            "TargetPoint"           "CASTER"
	            "EffectName"            "particles/units/heroes/hero_crystalmaiden/maiden_crystal_nova.vpcf"
	            "EffectAttachType"      "world_origin"
	            "ControlPoints"
	            {
	                "01"                "%radius 2 %radius*2"
	            }
	        }
	
	        "FireSound"
	        {
	            "EffectName"            "Hero_Crystal.CrystalNova"
	            "Target"                "CASTER"
	        }
	
	        "ActOnTargets"
	        {
	            "Target"
	            {
	                "Center"        "CASTER"
	                "Radius"        "%radius"
	                "Teams"         "DOTA_UNIT_TARGET_TEAM_ENEMY" 
	                "Type"          "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
	            }
	            
	            "Action"
	            {
	                "Damage"
	                {
	                    "Target"    "TARGET"
	                    "Damage"    "%damage"
	                    "Type"      "DAMAGE_TYPE_MAGICAL"
	                }
	                
	                "ApplyModifier"
	                {
	                    "Target"        "TARGET"
	                    "ModifierName"  "modifier_iceberg_aoe_slow"
	                }
	            }
	        }
	    } 
	
	    "precache"
	    {
	        "soundfile"             "soundevents/game_sounds_heroes/game_sounds_crystalmaiden.vsndevts"
	        "particle"              "particles/units/heroes/hero_crystalmaiden/maiden_crystal_nova.vpcf"
	        "particle"              "particles/generic_gameplay/generic_slowed_cold.vpcf"
	    }      
	
	    "Modifiers"
	    {
	        "modifier_iceberg_aoe_slow"
	        {
	            "IsPurgable"        "1"
	            "IsDebuff"          "1"                         
	
	            "Duration"              "%duration"
	            "EffectName"            "particles/generic_gameplay/generic_slowed_cold.vpcf"
	            "StatusEffectName"      "particles/status_fx/status_effect_frost_lich.vpcf"
	            "StatusEffectPriority"  "10"
	        
	            "Properties"
	            {                
	                "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%slow"
	            }
	        }
	    } 
	}
	
	//increase radius and slow duration
	"ability_upgrade_iceberg_1"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "lich_chain_frost"
	
	    "AbilityGoldCost"               "50"
	
	    "OnSpellStart"
	    {   
	
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_iceberg_aoe_slow"
	        }
	
	        "ApplyModifier"
	        {
	            "ModifierName"          "modifier_upgrade_iceberg_1"
	            "Target"                "CASTER"
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"            "scripts/vscripts/addon_game_mode.lua"
	            "Function"              "upgradeTower"
	
	            "AbilityContext"
	            {
	                "nextUpgrade"       "ability_upgrade_iceberg_2"
	            }
	        }         
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_iceberg_1"
	        {
	            "Passive"               "0"
	            "IsHidden"              "0"
	            "IsBuff"                "1"                
	        }
	    }
	}
	
	//increase slow amount and reduce cooldown
	"ability_upgrade_iceberg_2"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "crystal_maiden_crystal_nova"
	
	    "AbilityGoldCost"               "50"
	
	    "OnSpellStart"
	    {   
	
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_iceberg_aoe_slow"
	        }
	
	        "ApplyModifier"
	        {
	            "ModifierName"          "modifier_upgrade_iceberg_2"
	            "Target"                "CASTER"
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"            "scripts/vscripts/addon_game_mode.lua"
	            "Function"              "upgradeTower"
	
	            "AbilityContext"
	            {
	                "nextUpgrade"       "ability_upgrade_iceberg_3"
	                "splitUpgrade"      "ability_upgrade_iceberg_4"
	            }
	        }         
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_iceberg_2"
	        {
	            "Passive"               "0"
	            "IsHidden"              "0"
	            "IsBuff"                "1"                
	        }
	    }
	}
	//single target laser with purdge at level 3
	"ability_laser_tower_single"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
	    "AbilityUnitTargetType"         "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityUnitTargetFlags"        "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
	    "AbilityTextureName"            "tinker_laser"
	
	    "AbilityCooldown"               "3 2"
	    "AbilityManaCost"               "0"
	    "AbilityDamage"                 "%damage" 
	    "AbilityCastRange"              "600"
	    "AbilityCastAnimation"          "ACT_DOTA_CAST_ABILITY_1 "
	
	    "OnSpellStart"
	    {
	        "FireSound"
	        {
	            "Target"                "CASTER"
	            "EffectName"            "Hero_Tinker.Laser"
	        }
	        
	        //this projectile is invisible and is used to apply damage
	        "TrackingProjectile"
	        {
	            "Target"                "TARGET"            
	            "MoveSpeed"             "1100"
	            "Dodgeable"             "1"
	            "ProvidesVision"        "0"
	            "SourceAttachment"      "DOTA_PROJECTILE_ATTACHMENT_ATTACK_2"
	        }
	
	        //this creates the actual laser particle, 
	        //as it has to be moved to look like it is being shot from the eye
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/ai_laser.lua"
	            "Function"      "LaserTowerLaserParticle"       
	            "AbilityContext"     
	            {
	                "particle" "particles/units/heroes/hero_tinker/tinker_laser.vpcf"
	            }
	        }
	    }
	
	    "OnProjectileHitUnit"
	    {
	        "FireSound"
	        {
	            "Target"                "CASTER"
	            "EffectName"            "Hero_Tinker.LaserImpact"
	        }
	    
	        "Damage"
	        {
	            "Target"        "TARGET"
	            "Damage"        "%damage"
	            "Type"          "DAMAGE_TYPE_MAGICAL"
	        }   
	    }
	    
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "damage"            "20"
	        }
	        "02"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "cooldown"          "3"
	        }
	        "03"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "range"             "600"
	        }
	    }  
	
	    "precache"
	    {
	        "soundfile"     "soundevents/game_sounds_heroes/game_sounds_tinker.vsndevts"
	        "particle"      "particles/units/heroes/hero_tinker/tinker_laser.vpcf"
	    }  
	}
	
	//level up to 2, reduce cooldown
	"ability_upgrade_laser_tower_1"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"    "red_laser_icon"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {          
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_laser_tower_single"
	        }
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_laser_tower_1"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_laser_tower_2"                
	            }
	        }   
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_laser_tower_1"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	
	//level up to 3 so that the purge can be enabled in the Lua script
	"ability_upgrade_laser_tower_2"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"    "oracle_fortunes_end"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {          
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_laser_tower_single"
	        }
	
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_laser_tower_2"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_laser_tower_3"                
	                "splitUpgrade"  "ability_upgrade_laser_tower_4"
	            }
	        }   
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_laser_tower_2"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	"ability_barracks_spawn_magic_defender"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"    
	    "AbilityTextureName"    "silencer_curse_of_the_silent"
	    "MaxLevel"              "1"
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"       "20.0"
	    "AbilityCastRange"      "300"    
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"       "0" 
	    "AbilityGoldCost"       "0"
	 
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/unit_scripts/towers/ai_barracks.lua"
	            "Function"      "SpawnDefender" 
	
	            "AbilityContext"
	            {
	                "defender_name"     "defender_magic_0"
	            }
	        }
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "damage"        "4"
	        }
	        "02"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "health"        "50"
	        }
	        "03"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "defender_cap"  "3"
	        }   
	        "04"
	        {
	            "var_type"      "FIELD_FLOAT"
	            "max_aggro_dist"        "800"
	        }     
	    }
	}
	
	"ability_upgrade_magic_barracks_1"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"            "satyr_trickster_purge"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {   
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_magic_barracks_1"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_magic_barracks_2"                
	            }
	        }        
	
	        "RunScript"
	        {
	            "ScriptFile"        "unit_scripts/towers/ai_barracks.lua"
	            "Function"          "Upgrade"
	
	            "AbilityContext"
	            {
	                "defender_name"   "defender_magic_1"                                
	            }
	        } 
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_magic_barracks_1"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	
	"ability_upgrade_magic_barracks_2"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"            "ogre_magi_multicast"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {   
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_magic_barracks_2"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_magic_barracks_3"                
	                "splitUpgrade"  "ability_upgrade_magic_barracks_4"
	            }
	        }        
	
	        "RunScript"
	        {
	            "ScriptFile"        "unit_scripts/towers/ai_barracks.lua"
	            "Function"          "Upgrade"
	
	            "AbilityContext"
	            {
	                "defender_name"   "defender_magic_2"                                
	            }
	        } 
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_magic_barracks_2"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	"ability_barracks_spawn_melee_defender"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"    
	    "AbilityTextureName"    "sven_warcry"
	    "MaxLevel"              "1"
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"       "20.0"
	    "AbilityCastRange"      "300"    
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"       "0" 
	    "AbilityGoldCost"       "0"
	 
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/unit_scripts/towers/ai_barracks.lua"
	            "Function"      "SpawnDefender" 
	
	            "AbilityContext"
	            {
	                "defender_name"     "defender_melee_0"
	            }
	        }
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "damage"        "4"
	        }
	        "02"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "health"        "50"
	        }
	        "03"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "defender_cap"  "3"
	        }   
	        "04"
	        {
	            "var_type"      "FIELD_FLOAT"
	            "max_aggro_dist"        "800"
	        }     
	    }
	}
	
	//this is used for all barracks, not just melee
	"ability_barracks_set_spawn"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"    
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"    
	    "AbilityTextureName"    "legion_commander_duel"
	    "MaxLevel"              "1"
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"       "1"
	    "AbilityCastRange"      "%cast_range"    
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"       "0" 
	    "AbilityGoldCost"       "0"
	 
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/ai_barracks.lua"
	            "Function"      "SetDefenderSpawn"
	            "Target"        "POINT"           
	        }        
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "cast_range"    "500"
	        }             
	    }
	}
	
	
	"ability_upgrade_melee_barracks_1"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"            "necronomicon_warrior_mana_burn"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {   
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_melee_barracks_1"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_melee_barracks_2"                
	            }
	        }        
	
	        "RunScript"
	        {
	            "ScriptFile"        "unit_scripts/towers/ai_barracks.lua"
	            "Function"          "Upgrade"
	
	            "AbilityContext"
	            {
	                "defender_name"   "defender_melee_1"                                
	            }
	        } 
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_melee_barracks_1"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	
	"ability_upgrade_melee_barracks_2"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"    
	    "AbilityTextureName"            "witch_doctor_voodoo_restoration"
	    "AbilityGoldCost"               "50"
	
	    "OnSpellStart"
	    {
	
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_melee_barracks_2"
	            "Target"          "CASTER"            
	        }
	
	        //this script adds the ability to the barracks aesthetically
	        //and sorts out the next upgrade ability 
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_melee_barracks_3"   
	                "splitUpgrade"  "ability_upgrade_melee_barracks_4"             
	            }
	        }        
	
	
	        //this script adds the upgrade to the creeps
	        "RunScript"
	        {
	            "ScriptFile"        "unit_scripts/towers/ai_barracks.lua"
	            "Function"          "Upgrade"
	
	            "AbilityContext"
	            {
	                "defender_name"    "defender_melee_2"                           
	            }
	        } 
	    }
	
	     "Modifiers"
	    {
	        "modifier_upgrade_melee_barracks_2"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	
	
	//increase spawn cap and reduce respawn time
	"ability_upgrade_melee_barracks_3"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"    
	    "AbilityTextureName"            "dragon_knight_dragon_blood"
	    "AbilityGoldCost"               "50"
	
	    "OnSpellStart"
	    {
	
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_melee_barracks_3"
	            "Target"          "CASTER"            
	        }
	
	        //this script adds the ability to the barracks aesthetically
	        //and sorts out the next upgrade ability 
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_melee_barracks_5"                
	            }
	        }      
	
	        "RunScript"
	        {
	            "ScriptFile"        "unit_scripts/towers/ai_barracks.lua"
	            "Function"          "Upgrade"
	
	            "AbilityContext"
	            {
	                "defender_name" "defender_melee_3"
	            
	
	            }
	        } 
	
	        //increase the rax unit cap
	        //this will stay in effect for future upgrade levels
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/ai_barracks.lua"
	            "Function"      "IncreaseUnitCap"
	        }
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "new_unit_cap"      "6"
	        } 
	
	        "02"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "cooldown_percent"    "40"
	        } 
	
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_melee_barracks_3"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	
	            "Properties"
	            {
	                "MODIFIER_PROPERTY_COOLDOWN_PERCENTAGE" "%cooldown_percent"                
	            }
	        }
	    }
	}
	
	//apply a debuff to enemies
	//when that enemy dies, other units in range have a chance to flee
	"ability_upgrade_melee_barracks_5"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"    
	    "AbilityTextureName"            "skeleton_king_vampiric_aura"
	    "AbilityGoldCost"               "50"
	
	    "OnSpellStart"
	    {
	
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_melee_barracks_5"
	            "Target"          "CASTER"            
	        }
	
	        //this script sorts out the next upgrade ability 
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   ""                
	            }
	        }      
	
	        "RunScript"
	        {
	            "ScriptFile"        "unit_scripts/towers/ai_barracks.lua"
	            "Function"          "Upgrade"
	
	            "AbilityContext"
	            {
	                "defender_name" "defender_melee_5"
	            }
	        } 
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "fear_duration"     "8"
	        } 
	
	        "02"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "fear_radius"    "40"
	        } 
	
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_melee_barracks_5"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0" 
	        }
	    }
	}
	"ability_barracks_spawn_ranged_defender"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "drow_ranger_marksmanship"
	    "MaxLevel"              "1"
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"       "20.0"
	    "AbilityCastRange"      "300"    
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"       "0" 
	    "AbilityGoldCost"       "0"
	
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/unit_scripts/towers/ai_barracks.lua"
	            "Function"      "SpawnDefender" 
	
	            "AbilityContext"
	            {
	                "defender_name"     "defender_ranged_0"
	            }
	        }
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "damage"        "8"
	        }
	        "02"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "health"        "25"
	        }
	        "03"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "defender_cap"  "3"
	        }     
	        "04"
	        {
	            "var_type"      "FIELD_FLOAT"
	            "max_aggro_dist"        "800"
	        }   
	    }
	}
	
	
	"ability_upgrade_ranged_barracks_1"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "necronomicon_archer_mana_burn"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_ranged_barracks_1"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_ranged_barracks_2"                
	            }
	        }        
	
	        "RunScript"
	        {
	            "ScriptFile"        "unit_scripts/towers/ai_barracks.lua"
	            "Function"          "Upgrade"
	
	            "AbilityContext"
	            {
	                "defender_name" "defender_ranged_1"
	            }
	        } 
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_ranged_barracks_1"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"     
	        }
	    }
	}
	
	"ability_upgrade_ranged_barracks_2"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "necronomicon_archer_aoe"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_ranged_barracks_2"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_ranged_barracks_3"                
	                "splitUpgrade"  "ability_upgrade_ranged_barracks_4"
	            }
	        }        
	
	        "RunScript"
	        {
	            "ScriptFile"        "unit_scripts/towers/ai_barracks.lua"
	            "Function"          "Upgrade"
	
	            "AbilityContext"
	            {
	                "defender_name"     "defender_ranged_2"
	            }
	        } 
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_ranged_barracks_2"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"     
	        }
	    }
	}
	
	"ability_upgrade_ranged_barracks_3"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "drow_ranger_trueshot"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_ranged_barracks_3"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_ranged_barracks_5"                
	            }
	        }        
	
	        "RunScript"
	        {
	            "ScriptFile"        "unit_scripts/towers/ai_barracks.lua"
	            "Function"          "Upgrade"
	
	            "AbilityContext"
	            {
	                "defender_name"     "defender_ranged_3"
	            }
	        } 
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_ranged_barracks_3"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"     
	        }
	    }
	}
	
	"ability_upgrade_ranged_barracks_5"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "clinkz_strafe"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_ranged_barracks_5"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   ""                
	            }
	        }        
	
	        "RunScript"
	        {
	            "ScriptFile"        "unit_scripts/towers/ai_barracks.lua"
	            "Function"          "Upgrade"
	
	            "AbilityContext"
	            {
	                "defender_name"     "defender_ranged_5"
	            }
	        } 
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_ranged_barracks_5"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"     
	        }
	    }
	}
	"ability_upgrade_sniper_1"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "phantom_assassin_coup_de_grace"
	
	    "AbilityGoldCost"       "70"
	   
	    "OnSpellStart"
	    {
	        "ApplyModifier"
	        {
	            "ModifierName"  "modifier_sniper_upgrade_1"
	            "Target"        "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_sniper_2"                
	            }
	        }
	    }
	
	    "Modifiers"
	    {
	        "modifier_sniper_upgrade_1"
	        {
	            "Passive"           "0"
	            "IsBuff"            "1" 
	            "IsPurgable"        "0"
	            "IsHidden"          "0"             
	
	            "Properties"
	            {
	                "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE" "%damage"        
	            }  
	        }           
	    }
	
	    //this value appears in the tooltip
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"  "FIELD_INTEGER"
	            "damage"    "10"
	        }
	
	        "02"
	        {
	            "var_type"            "FIELD_INTEGER"
	            "gold_cost"            "50"
	        } 
	    }
	}
	
	"ability_upgrade_sniper_2"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "sniper_headshot"
	
	    "AbilityGoldCost"       "80"   
	
	    "OnSpellStart"
	    {
	        "AddAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "sniper_headshot"
	        }
	
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "sniper_headshot"
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_sniper_3"                
	                "splitUpgrade"  "ability_upgrade_sniper_4"
	            }
	        }
	    }    
	}
	
	
	"ability_upgrade_sniper_3"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "sniper_assassinate"
	
	    "AbilityGoldCost"       "50" 
	
	    "OnSpellStart"
	    {
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_sniper_upgrade_3"
	            "Target"         "CASTER"           
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_sniper_5"
	            }
	        }
	    }
	
	    "Modifiers"
	    {
	        "modifier_sniper_upgrade_3"
	        {
	            "Passive"            "0"            
	            "IsBuff"             "1"
	            "IsHidden"           "0"
	            
	            "Properties"
	            {
	                "MODIFIER_PROPERTY_ATTACK_RANGE_BONUS"  "%range_bonus"     
	                "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%attackspeed_reduction" 
	                "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE"  "%damage_bonus"
	            }
	                   
	        }
	    }  
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"     "FIELD_INTEGER"
	            "damage_bonus"       "980"
	        }
	        "02"
	        {
	            "var_type"     "FIELD_INTEGER"
	            "range_bonus"  "2000"
	        }
	        "03"
	        {
	            "var_type"     "FIELD_FLOAT"
	            "attackspeed_reduction"        "-70"
	        }
	        "04"
	        {
	            "var_type"     "FIELD_INTEGER"
	            "gold_cost"    "50"
	        } 
	    }
	}
	
	
	"ability_upgrade_sniper_4"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityType"           "DOTA_ABILITY_TYPE_BASIC"
	    "AbilityTextureName"    "sniper_machine_gun_icon"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_sniper_upgrade_4"
	            "Target"         "CASTER"           
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_sniper_6"                
	            }
	        }
	    }
	
	    "Modifiers"
	    {
	        "modifier_sniper_upgrade_4"
	        {
	            "Passive"           "0"            
	            "IsBuff"            "1"
	            "IsHidden"          "0"
	            
	            "Properties"
	            {
	                "MODIFIER_PROPERTY_ATTACK_RANGE_BONUS"  "%range_bonus"     
	                "MODIFIER_PROPERTY_ATTACKSPEED_BONUS_CONSTANT" "%attackspeed_reduction" 
	                "MODIFIER_PROPERTY_BASE_ATTACK_TIME_CONSTANT"   "%base_attack_time"
	                "MODIFIER_PROPERTY_BASEATTACK_BONUSDAMAGE"  "%damage_bonus"
	            }
	                   
	        }
	    }  
	
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	          "var_type"            "FIELD_INTEGER"
	          "range_bonus"            "-500"
	        }
	
	        "02"
	        {
	          "var_type"            "FIELD_FLOAT"
	          "attackspeed_reduction" "430"
	        }
	
	        "03"
	        {
	          "var_type"            "FIELD_FLOAT"
	          "damage_bonus"        "20"
	        }
	        "04"
	        {
	          "var_type"            "FIELD_FLOAT"
	          "base_attack_time"        "0.05"
	        }
	    }  
	}
	"ability_soul_siphon_drain"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetType"         "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "soul_siphon_icon"
	
	    "AbilityCooldown"               "3"
	    "AbilityManaCost"               "0"
	    "AbilityDamage"                 "%damage" 
	    "AbilityCastRange"              "%range"
	    
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/ai_soul_siphon.lua"
	            "Function"      "SoulSiphonCast"           
	            "AbilityContext"
	            {
	                "particle"  "particles/econ/items/necrolyte/necrophos_sullen/necro_sullen_pulse_enemy.vpcf"                
	            }
	        }                
	    } 
	
	    "OnProjectileHitUnit"
	    {
	        "DeleteOnHit"    "1"       
	
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/ai_soul_siphon.lua"
	            "Function"      "SoulSiphonOnHit" 
	            "AbilityContext"
	            {
	                "particle"  "particles/econ/items/necrolyte/necrophos_sullen/necro_sullen_pulse_enemy.vpcf"
	                "tower_stack_modifier"  "modifier_soul_siphon_tower_stacks"
	                "mr_debuff_modifier"    "modifier_soul_siphon_debuff"
	            }
	        } 
	    }
	
	    "Modifiers"
	    {
	        "modifier_soul_siphon_tower_stacks"
	        {
	            "Passive"           "0"
	            "IsHidden"          "0"
	            "IsBuff"            "1"
	            
	            "Duration"          "%mr_debuff_duration"
	        }
	
	        "modifier_soul_siphon_debuff"
	        {
	            "Passive"           "0"
	            "IsHidden"          "0"
	            "IsDebuff"          "1"
	    
	            "EffectName"        "particles/soul_siphon/soul_siphon_debuff.vpcf"
	            "EffectAttachType"  "follow_origin"
	            "StatusEffectName"  "particles/status_fx/status_effect_veil.vpcf"        
	            "StatusEffectPriority"  "10"
	            
	            "Duration"          "%mr_debuff_duration"
	            "Properties"
	            {
	                "MODIFIER_PROPERTY_MAGICAL_RESISTANCE_BONUS" "%mr_debuff"                 
	            }
	        }
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "projectile_speed"  "500"
	        }
	        "02"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "damage"            "10"
	        }
	        "03"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "range"             "500 750"
	        }  
	        "04"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "max_targets"       "2 5 5 15"
	        }
	        "05"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "mr_debuff"         "0 0 -1"
	        }        
	        "05"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "mr_debuff_duration"    "0 0 12"
	        }
	        "06"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "max_stacks"        "0 0 15"
	        }
	    }   
	 
	    "precache"
	    {
	        "particle"  "particles/econ/items/necrolyte/necrophos_sullen/necro_sullen_pulse_enemy.vpcf"        
	        "particle"  "particles/soul_siphon/soul_siphon_debuff.vpcf"
	        "particle"  "particles/status_fx/status_effect_veil.vpcf"
	    }
	}
	
	"ability_upgrade_soul_siphon_1"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"    "soul_siphon_icon_1"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {   
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_soul_siphon_drain"
	        }
	
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_soul_siphon_1"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_soul_siphon_2"                
	            }
	        }       
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_soul_siphon_1"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	
	"ability_upgrade_soul_siphon_2"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"    "soul_siphon_icon_2"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {   
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_soul_siphon_drain"
	        }
	
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_soul_siphon_2"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_soul_siphon_3"                
	                "splitUpgrade"  "ability_upgrade_soul_siphon_4"
	            }
	        }       
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_soul_siphon_2"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	"ability_shoot_tacks"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "bristleback_quill_spray"
	
	    "AbilityCooldown"                "2 1"
	    "AbilityManaCost"                "0"
	    "AbilityDamage"                  "%damage" 
	
	    "MaxLevel"                       "2"   
	
	    "OnSpellStart"
	    {  
	        "RunScript"
	        {
	            "ScriptFile"        "scripts/vscripts/unit_scripts/towers/ai_tackshooter.lua"
	            "Function"          "launchTacks"
	
	            "AbilityContext"
	            {
	                "projectile_particle"   "particles/frostivus_gameplay/drow_linear_arrow.vpcf"
	            }
	        }
	    } 
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"    "FIELD_INTEGER"
	            "speed"       "900"
	        }
	        "02"
	        {
	            "var_type"    "FIELD_INTEGER"
	            "radius"      "100"
	        }
	        "03"
	        {
	            "var_type"    "FIELD_INTEGER"
	            "distance"    "500"
	        }  
	        "04"
	        {
	            "var_type"    "FIELD_INTEGER"
	            "damage"      "20"
	        }       
	    }   
	}
	
	//ability granted by upgrade 4
	"ability_ring_of_poison"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "venomancer_venomous_gale"
	
	    "AbilityCooldown"                "1"
	    "AbilityManaCost"                "0"
	    "AbilityDamage"                  "200"
	
	    "precache"
	    {
	        "particle"  "particles/units/heroes/hero_sandking/sandking_caustic_finale_explode.vpcf"
	        "particle"  "particles/status_fx/status_effect_poison_venomancer.vpcf" 
	        "particle"  "particles/units/heroes/hero_broodmother/broodmother_incapacitatingbite_debuff.vpcf"       
	        "particle"  "particles/units/heroes/hero_venomancer/venomancer_poison_nova.vpcf"       
	    }
	
	    "OnSpellStart"
	    {
	        "FireEffect"
	        {
	            "TargetPoint"           "CASTER"
	            "EffectName"            "particles/units/heroes/hero_venomancer/venomancer_poison_nova.vpcf"
	            "EffectAttachType"      "world_origin"
	            "ControlPoints"
	            {
	                "01"                "1 1 %radius"
	            }
	        }
	
	        "ActOnTargets"
	        {
	            "Target"
	            {
	                "Center"        "CASTER"
	                "Radius"        "%radius"
	                "Teams"         "DOTA_UNIT_TARGET_TEAM_ENEMY" 
	                "Type"          "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
	            }
	            
	            "Action"
	            {              
	
	                "Damage"
	                {
	                    "Target"    "TARGET"
	                    "Damage"    "%base_dmg"
	                    "Type"      "DAMAGE_TYPE_PHYSICAL"
	                }                     
	
	                "RunScript"
	                {
	                    "ScriptFile"    "unit_scripts/towers/ai_tackshooter.lua"
	                    "Function"      "tackshooterAddPoisonStack"
	                    "AbilityContext"
	                    {
	                        "modifier"  "modifier_ring_of_poison"
	                    }
	                }        
	            }            
	        }
	    }
	
	    "Modifiers"
	    {
	        "modifier_ring_of_poison"
	        {
	            "Passive"           "0"
	            "IsHidden"          "0"
	            "IsDebuff"          "1"           
	            
	            "EffectName"            "particles/units/heroes/hero_broodmother/broodmother_incapacitatingbite_debuff.vpcf"
	            "EffectAttachType"      "follow_origin" 
	
	            "StatusEffectName"      "particles/status_fx/status_effect_poison_venomancer.vpcf"        
	            "StatusEffectPriority"  "10"      
	
	            "Duration"          "6"
	            "ThinkInterval"  "%tick_interval"
	            "OnIntervalThink"
	            {
	                "RunScript"
	                {
	                    "ScriptFile"    "unit_scripts/towers/ai_tackshooter.lua"
	                    "Function"      "tackshooterPoisonTick"
	                    "AbilityContext"
	                    {
	                        "modifier"  "modifier_ring_of_poison"
	                        "tick_dmg"  "%tick_dmg * %tock_interval"
	                    }
	                }
	            }    
	
	            "OnCreated"
	            {
	                "RunScript"
	                {
	                    "ScriptFile"    "unit_scripts/towers/ai_tackshooter.lua"
	                    "Function"      "tackshooterApplyDeathDebuff"
	                    "AbilityContext"
	                    {
	                        "modifier"  "modifier_ring_of_poison_kill"
	                    }
	                }
	            }       
	        }
	
	        "modifier_ring_of_poison_kill"
	        {
	            "Passive"   "0"
	            "IsHidden"  "0"
	            "IsDebuff"  "1"
	            "TextureName"   "necrolyte_death_pulse"
	
	            "Duration"  "%death_duration"        
	
	            "OnDeath"
	            {    
	
	                "FireEffect"
	                {
	                    "EffectName"        "particles/units/heroes/hero_sandking/sandking_caustic_finale_explode.vpcf"
	                    "EffectAttachType"  "follow_origin"
	                    "Target"            
	                    {
	                        "Center"    "UNIT"
	                        "Flags"     "DOTA_UNIT_TARGET_FLAG_DEAD"    
	                    }
	                }
	
	                "FireSound"
	                {
	                    "Target"            
	                    {
	                        "Center"    "UNIT"
	                        "Flags"     "DOTA_UNIT_TARGET_FLAG_DEAD"
	                    }
	                    "EffectName"    "Ability.SandKing_CausticFinale"
	                }
	
	                "ActOnTargets"
	                {
	                    "Target"
	                    {
	                        "Center"        "UNIT"
	                        "Radius"        "%death_radius"
	                        "Teams"         "DOTA_UNIT_TARGET_TEAM_ENEMY" 
	                        "Type"          "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
	                    }
	                    
	                    "Action"
	                    {              
	
	                        "Damage"
	                        {
	                            "Target"    "UNIT"
	                            "Damage"    "%base_dmg"
	                            "Type"      "DAMAGE_TYPE_PHYSICAL"
	                        }                     
	
	                        "RunScript"
	                        {
	                            "ScriptFile"    "unit_scripts/towers/ai_tackshooter.lua"
	                            "Function"      "tackshooterAddPoisonStack"
	                            "AbilityContext"
	                            {
	                                "modifier"  "modifier_ring_of_poison"
	                            }
	                        }        
	                    }            
	                }
	            }
	        }
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "base_dmg"          "5 10"
	        }
	        "02"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "radius"            "650"
	        }
	        "03"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "tick_dmg"          "1 1"
	        }
	        "03"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "tick_interval"     "0.1"
	        }
	        "04"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "poison_duration"   "6"
	        }
	        "05"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "death_duration"    "0 6"
	        }
	        "06"
	        {
	            "var_type"         "FIELD_INTEGER"
	            "death_radius"      "350"
	        }
	    }
	}
	
	//upgrades firing speed
	"ability_upgrade_tackshooter_1"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "windrunner_focusfire"
	
	    "AbilityGoldCost"               "50"
	
	    "OnSpellStart"
	    {
	        "ApplyModifier"
	        {
	            "ModifierName"          "modifier_upgrade_tackshooter_1"
	            "Target"                "CASTER"            
	        }
	
	        "LevelUpAbility"
	        {
	            "Target"                "CASTER"
	            "AbilityName"           "ability_shoot_tacks"
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"            "scripts/vscripts/addon_game_mode.lua"
	            "Function"              "upgradeTower"
	
	            "AbilityContext"
	            {
	                "nextUpgrade"       "ability_upgrade_tackshooter_2"
	            }
	        }             
	    }
	
	    "Modifiers"
	    {
	        //cosmetic - lets the user know the tower has been upgraded
	        "modifier_upgrade_tackshooter_1"
	        {
	            "Passive"           "0"         
	            "IsPurgable"        "0"
	            "IsBuff"            "1"
	        }               
	    } 
	}
	
	//fire 16 tacks instead of 8
	"ability_upgrade_tackshooter_2"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "holdout_focusfire"
	
	    "AbilityGoldCost"               "50"
	
	    "OnSpellStart"
	    {
	
	        "ApplyModifier"
	        {
	            "ModifierName"          "modifier_upgrade_tackshooter_2"
	            "Target"                "CASTER"
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"            "scripts/vscripts/addon_game_mode.lua"
	            "Function"              "upgradeTower"
	
	            "AbilityContext"
	            {
	                "nextUpgrade"       "ability_upgrade_tackshooter_3"
	                "splitUpgrade"      "ability_upgrade_tackshooter_4"
	            }
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"            "unit_scripts/towers/ai_tackshooter.lua"
	            "Function"              "tackshooterSet16"
	        }         
	    }
	
	    "Modifiers"
	    {
	        //cosmetic - lets the user know the tower has been upgraded
	        "modifier_upgrade_tackshooter_2"
	        {
	            "Passive"           "0"         
	            "IsPurgable"        "0"
	            "IsBuff"            "1"
	        }               
	    }  
	}
	
	//makes each shot burst into smaller shots on hit/end
	"ability_upgrade_tackshooter_3"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "legion_commander_overwhelming_odds"
	
	    "AbilityGoldCost"               "50"
	
	    "OnSpellStart"
	    {
	        "ApplyModifier"
	        {
	            "ModifierName"          "modifier_upgrade_tackshooter_3"
	            "Target"                "CASTER"
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"            "scripts/vscripts/addon_game_mode.lua"
	            "Function"              "upgradeTower"
	
	            "AbilityContext"
	            {
	                "nextUpgrade"       "ability_upgrade_tackshooter_5"                
	            }
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"            "scripts/vscripts/unit_scripts/towers/ai_tackshooter.lua"
	            "Function"              "tackshooterSetSplit"
	        }         
	    }
	
	    "Modifiers"
	    {
	        //cosmetic - lets the user know the tower has been upgraded
	        "modifier_upgrade_tackshooter_3"
	        {
	            "Passive"           "0"         
	            "IsPurgable"        "0"
	            "IsBuff"            "1"
	        }               
	    }  
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "split_dmg"         "10"
	        }
	        "02"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "split_dist"        "300"
	        }
	        "03"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "split_radius"      "100"
	        }
	        "04"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "split_speed"       "900"
	        }
	    }
	}
	
	//changes the ability from shooting tacks to shooting poison
	"ability_upgrade_tackshooter_4"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "venomancer_venomous_gale"
	
	    "AbilityGoldCost"               "50"
	
	    "precache"
	    {
	        "soundfile" "soundevents/game_sounds_heroes/game_sounds_venomancer.vsndevts"
	    }
	
	    "OnSpellStart"
	    {
	        "FireSound"
	        {
	            "EffectName"    "Hero_Venomancer.PoisonNova"
	            "Target"         "CASTER"
	        }
	        "ApplyModifier"
	        {
	            "ModifierName"          "modifier_upgrade_tackshooter_4"
	            "Target"                "CASTER"
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"            "scripts/vscripts/addon_game_mode.lua"
	            "Function"              "upgradeTower"
	
	            "AbilityContext"
	            {
	                "nextUpgrade"       "ability_upgrade_tackshooter_6"                
	            }
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"            "scripts/vscripts/unit_scripts/towers/ai_tackshooter.lua"
	            "Function"              "tackshooterPoison"
	            
	            "AbilityContext"
	            {
	                "old_ability"   "ability_shoot_tacks"
	                "new_ability"   "ability_ring_of_poison"
	            }
	        }         
	    }
	
	    "Modifiers"
	    {
	        //cosmetic - lets the user know the tower has been upgraded
	        "modifier_upgrade_tackshooter_4"
	        {
	            "Passive"           "0"         
	            "IsPurgable"        "0"
	            "IsBuff"            "1"
	        }               
	    }  
	}
	
	//when poisoned creatures die, explode and transfer their stacks to nearby creatures
	"ability_upgrade_tackshooter_6"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "necrolyte_death_pulse"
	
	    "AbilityGoldCost"               "50"
	
	    "precache"
	    {
	        "soundfile" "soundevents/game_sounds_heroes/game_sounds_sandking.vsndevts"
	    }
	
	    "OnSpellStart"
	    {        
	        "ApplyModifier"
	        {
	            "ModifierName"          "modifier_upgrade_tackshooter_6"
	            "Target"                "CASTER"
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"            "scripts/vscripts/addon_game_mode.lua"
	            "Function"              "upgradeTower"
	
	            "AbilityContext"
	            {
	                "nextUpgrade"       ""                
	            }
	        }
	
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_ring_of_poison"
	        }
	               
	    }
	
	    "Modifiers"
	    {
	        //cosmetic - lets the user know the tower has been upgraded
	        "modifier_upgrade_tackshooter_6"
	        {
	            "Passive"           "0"         
	            "IsPurgable"        "0"
	            "IsBuff"            "1"
	        }               
	    }  
	}
	"ability_tesla_coil_lightning_single"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetType"         "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "disruptor_thunder_strike"
	
	    "AbilityCooldown"                "1 0.5 0.05"
	    "AbilityManaCost"                "0"
	    "AbilityCastRange"               "%range"    
	    "AbilityDamage"                  "%damage"     
	    
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/ai_tesla_coil.lua"
	            "Function"      "TeslaCoilLightningSingle"
	            "AbilityContext"
	            {
	                "modifier"  "modifier_lightning_hit"
	                "particle"  "particles/units/heroes/hero_zuus/zuus_arc_lightning_head.vpcf"                
	            }
	        }         
	    } 
	
	    "Modifiers"
	    {    
	        "modifier_lightning_hit"
	        {
	            "Passive"           "0"
	            "IsHidden"          "0"
	            "IsDebuff"          "1"  
	            "IsPurgable"        "1"          
	
	            "EffectName"    "particles/units/heroes/hero_slardar/slardar_amp_damage.vpcf"
	            "EffectAttachType"  "follow_overhead"
	
	            "StatusEffectName" "particles/status_fx/status_effect_slardar_amp_damage.vpcf"
	            "StatusEffectPriority"  "20"    
	
	            "Duration"          "%duration"
	
	            "Properties"
	            {
	                "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%minus_armour"                     
	            }
	        }
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "range"         "600"
	        }             
	        "02"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "minus_armour"  "-1"
	        }   
	        "03"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "duration"      "12"
	        }  
	        "04"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "damage"        "1"
	        }  
	    }
	
	    "precache"
	    {
	        "particle"  "particles/units/heroes/hero_zuus/zuus_arc_lightning_head.vpcf"
	        "particle"  "particles/status_fx/status_effect_slardar_amp_damage.vpcf" 
	        "particle"  "particles/units/heroes/hero_slardar/slardar_amp_damage.vpcf"     
	    }   
	}
	
	"ability_tesla_coil_lightning_multi"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitTargetType"         "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "razor_eye_of_the_storm"
	
	    "AbilityCooldown"                "0.2"
	    "AbilityManaCost"                "0"
	    "AbilityDamage"                  "%damage" 
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "unit_scripts/towers/ai_tesla_coil.lua"
	            "Function"      "TeslaCoilLightningMulti"
	            "AbilityContext"
	            {
	                "modifier"  "modifier_lightning_hit"
	                "particle"  "particles/units/heroes/hero_zuus/zuus_arc_lightning_head.vpcf"                
	            }
	        }         
	    } 
	
	    "Modifiers"
	    {       
	        "modifier_lightning_hit"
	        {
	            "Passive"           "0"
	            "IsHidden"          "0"
	            "IsDebuff"          "1"    
	
	            "StatusEffectName" "particles/status_fx/status_effect_slardar_amp_damage.vpcf"
	            "StatusEffectPriority"  "20"    
	
	            "Duration"          "%duration"
	
	            "Properties"
	            {
	                "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%minus_armour"                     
	            }
	        }
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "range"         "600"
	        }             
	        "02"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "minus_armour"  "-1"
	        }   
	        "03"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "duration"      "12"
	        }  
	        "04"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "damage"        "12"
	        }  
	    }
	
	    "precache"
	    {
	        "particle"  "particles/units/heroes/hero_zuus/zuus_arc_lightning_head.vpcf"
	        "particle"  "particles/status_fx/status_effect_slardar_amp_damage.vpcf"        
	    }  
	}
	
	"ability_upgrade_tesla_coil_1"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"    "razor_static_link"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {   
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_tesla_coil_1"
	            "Target"          "CASTER"            
	        }
	
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_tesla_coil_lightning_single"
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_tesla_coil_2"                
	            }
	        }       
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_tesla_coil_1"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	
	"ability_upgrade_tesla_coil_2"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"    "leshrac_lightning_storm"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {   
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_tesla_coil_2"
	            "Target"          "CASTER"            
	        }
	
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_tesla_coil_lightning_single"
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_tesla_coil_3"                
	                "splitUpgrade"  "ability_upgrade_tesla_coil_4"
	            }
	        }       
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_tesla_coil_2"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	
	"ability_upgrade_tesla_coil_3"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"    "storm_spirit_ball_lightning"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {   
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_tesla_coil_1"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_tesla_coil_5"                
	            }
	        }        
	
	        "RunScript"
	        {
	            "ScriptFile"        "unit_scripts/towers/ai_tesla_coil.lua"
	            "Function"          "TeslaCoilUpgrade"
	
	            "AbilityContext"
	            {   
	                "old_ability"   "ability_tesla_coil_lightning_single"
	                "new_ability"   "ability_tesla_coil_lightning_multi"                                
	            }
	        } 
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_tesla_coil_3"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	//slow moving missile that damages things multiple times
	"ability_tombstone_tower_decay"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
	    "AbilityUnitTargetType"         "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	    "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"    
	    "AbilityTextureName"            "tombstone_decay_icon_1"
	
	    "AbilityCooldown"               "3"
	    "AbilityManaCost"               "0"
	    "AbilityDamage"                 "%damage" 
	    "AbilityCastRange"              "%range"
	    "AbilityCastAnimation"          "ACT_DOTA_CAST_ABILITY_1 "
	
	    "OnSpellStart"
	    {
	        "FireSound"
	        {
	            "Target"                "CASTER"
	            "EffectName"            "Hero_Undying.Decay.Cast"
	        }       
	        
	        "RunScript"
	        {
	            "ScriptFile"            "unit_scripts/towers/ai_tombstone.lua"
	            "Function"              "TombstoneDecay"       
	            "AbilityContext"     
	            {
	                "particle"      "particles/tombstone/decay/tombstone_decay.vpcf"
	                "sound"         "Hero_Undying.Decay.Target"
	                "modifier"      "modifier_tombstone_decay_slow"
	            }
	        }
	    }
	
	    "Modifiers"
	    {
	        "modifier_tombstone_decay_slow"
	        {
	            "Passive"             "0"
	            "IsHidden"            "0"
	            "IsDebuff"            "1"
	            "IsPurgable"          "1"         
	            "Duration"            "%slow_duration"
	
	            "Properties"
	            {
	                "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%slow"                                   
	            }
	        }
	
	        "modifier_tombstone_decay_no_heal"
	        {
	            "Passive"           "0"
	            "IsHidden"          "0"
	            "IsDebuff"          "1"
	            "IsPurgable"        "1"                        
	            "Duration"          "%no_heal_duration"
	
	            "StatusEffectName"        "particles/status_fx/status_effect_iceblast.vpcf"        
	            "StatusEffectPriority"    "10"
	          
	            "Properties"
	            {
	                "MODIFIER_PROPERTY_DISABLE_HEALING"   "1"
	            }
	        }
	    }  
	    
	    "AbilitySpecial"
	    {
	        "01"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "damage"            "2 4"
	        }
	        "02"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "width"             "200"
	        }
	        "03"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "range"             "1200"
	        }
	        "04"
	        {
	            "var_type"          "FIELD_FLOAT"
	            "tick"              "0.3"
	        }
	        "05"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "speed"             "300"
	        }
	        "06"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "slow"              "-20 -40"
	        }
	        "06"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "slow_duration"     "1"
	        }
	        "07"
	        {
	            "var_type"          "FIELD_INTEGER"
	            "no_heal_duration"  "0 0 10"
	        }
	    }  
	
	    "precache"
	    {
	        "soundfile"     "soundevents/game_sounds_heroes/game_sounds_undying.vsndevts"        
	        "particle"      "particles/tombstone/decay/tombstone_decay.vpcf"
	    }  
	}
	
	//level up to 2, more damage and slow
	"ability_upgrade_tombstone_tower_1"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"    "pudge_rot"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {          
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_tombstone_tower_decay"
	        }
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_tombstone_tower_1"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_tombstone_tower_2"                
	            }
	        }   
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_tombstone_tower_1"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	
	//level up to 3, applies debuff that stops healing
	"ability_upgrade_tombstone_tower_2"
	{
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"    "undying_decay"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {          
	        "LevelUpAbility"
	        {
	            "Target"         "CASTER"
	            "AbilityName"    "ability_tombstone_tower_decay"
	        }
	
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_tombstone_tower_2"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_tombstone_tower_3"
	                "splitUpgrade"   "ability_upgrade_tombstone_tower_4"
	            }
	        }   
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_tombstone_tower_2"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	"ability_barracks_spawn_utility_defender"
	{
	    // General
	    //-------------------------------------------------------------------------------------------------------------
	    "BaseClass"             "ability_datadriven"
	    "AbilityBehavior"       "DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"    
	    "AbilityTextureName"    "forest_troll_high_priest_heal"
	    "MaxLevel"              "1"
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"       "20.0"
	    "AbilityCastRange"      "300"    
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"       "0" 
	    "AbilityGoldCost"       "0"
	 
	    // Special
	    //-------------------------------------------------------------------------------------------------------------
	
	    "OnSpellStart"
	    {      
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/unit_scripts/towers/ai_barracks.lua"
	            "Function"      "SpawnDefender" 
	
	            "AbilityContext"
	            {
	                "defender_name"     "defender_utility_0"
	            }
	        }
	    }
	
	    "AbilitySpecial"
	    {        
	        "01"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "health"        "25"
	        }
	        "02"
	        {
	            "var_type"      "FIELD_INTEGER"
	            "defender_cap"  "3"
	        }   
	        "03"
	        {
	            "var_type"      "FIELD_FLOAT"
	            "max_aggro_dist"        "800"
	        }     
	    }
	}
	
	
	"ability_upgrade_utility_barracks_1"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"            "lich_frost_armor"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {   
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_utility_barracks_1"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_utility_barracks_2"                
	            }
	        }        
	
	        "RunScript"
	        {
	            "ScriptFile"        "unit_scripts/towers/ai_barracks.lua"
	            "Function"          "Upgrade"
	
	            "AbilityContext"
	            {
	                "defender_name"   "defender_utility_1"                                
	            }
	        } 
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_magic_barracks_1"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
	
	
	"ability_upgrade_utility_barracks_2"
	{
	    "BaseClass"                     "ability_datadriven"
	    "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"        
	    "AbilityTextureName"            "invoker_alacrity"
	
	    "AbilityGoldCost"       "50"
	
	    "OnSpellStart"
	    {   
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_upgrade_utility_barracks_2"
	            "Target"          "CASTER"            
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"    "scripts/vscripts/addon_game_mode.lua"
	            "Function"      "upgradeTower"
	
	
	            "AbilityContext"
	            {
	                "nextUpgrade"   "ability_upgrade_utility_barracks_3"                
	                "splitUpgrade"  "ability_upgrade_utility_barracks_4"
	            }
	        }        
	
	        "RunScript"
	        {
	            "ScriptFile"        "unit_scripts/towers/ai_barracks.lua"
	            "Function"          "Upgrade"
	
	            "AbilityContext"
	            {
	                "defender_name"   "defender_utility_2"                                
	            }
	        } 
	    }
	
	    "Modifiers"
	    {
	        "modifier_upgrade_magic_barracks_2"
	        {
	            "IsHidden"      "0"
	            "Passive"       "0"            
	        }
	    }
	}
}